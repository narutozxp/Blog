<!DOCTYPE html><html class="hide-aside" lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>test | narutozxp</title><meta name="keywords" content="测试"><meta name="author" content="narutozxp"><meta name="copyright" content="narutozxp"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="description test">
<meta property="og:type" content="article">
<meta property="og:title" content="test">
<meta property="og:url" content="https://www.narutozxp.top/2022/05/19/test/index.html">
<meta property="og:site_name" content="narutozxp">
<meta property="og:description" content="description test">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://www.narutozxp.top/img/30.jpg">
<meta property="article:published_time" content="2022-05-19T20:45:27.000Z">
<meta property="article:modified_time" content="2025-02-12T11:54:50.000Z">
<meta property="article:author" content="narutozxp">
<meta property="article:tag" content="测试">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://www.narutozxp.top/img/30.jpg"><link rel="shortcut icon" href="/img/myself.jpg"><link rel="canonical" href="https://www.narutozxp.top/2022/05/19/test/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin=""/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Great%20Vibes" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":200},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'test',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-02-12 11:54:50'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous"> <script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js" integrity="sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js" integrity="sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa" crossorigin="anonymous"></script> <link rel="stylesheet" href="/css/custom.css"> <link rel="stylesheet" href="/css/font.css"> <script data-pjax src="https://wavedrom.com/wavedrom.min.js" type="text/javascript"></script> <script data-pjax src="https://wavedrom.com/skins/default.js" type="text/javascript"></script> <script data-pjax src="https://wavedrom.com/skins/dark.js" type="text/javascript"></script> <script data-pjax src="https://wavedrom.com/skins/narrow.js" type="text/javascript"></script> <script data-pjax src="https://wavedrom.com/skins/lowkey.js" type="text/javascript"></script> <script data-pjax src="https://cdn.jsdelivr.net/npm/echarts/dist/echarts.min.js" type="text/javascript"></script> <script data-pjax src="https://cdn.jsdelivr.net/npm/abcjs/dist/abcjs-basic-min.js" type="text/javascript"></script> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/abcjs/abcjs-audio.css"/>
<script data-pjax type="text/javascript"> document.addEventListener('pjax:complete', WaveDrom.ProcessAll); document.addEventListener('pjax:complete', mermaid.init); </script> <script data-pjax type="text/javascript" id="maid-script" src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lxgw-wenkai-screen-webfont@1.5.0/style.css" /> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"> <script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script> <meting-js id="2217718183" server="netease" type="playlist" autoplay = "false" api = "https://v.iarc.top/?server=:server&type=:type&id=:id&r=:r" mini = "true" fixed = "true" loop = "all" order = 'random' list-folded = "true"> </meting-js><!-- hexo injector head_end start --><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css" media="defer" onload="this.media='all'"><script src="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js"></script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/myself.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">16</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">15</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">9</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 链接</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/30.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">narutozxp</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 链接</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">test</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-05-19T20:45:27.000Z" title="发表于 2022-05-19 20:45:27">2022-05-19</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-02-12T11:54:50.000Z" title="更新于 2025-02-12 11:54:50">2025-02-12</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">9.5k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>54分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="test"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="外挂标签">外挂标签</h1>
<div class="tip success">
<p>为简单的一句话提供的简便写法。</p>
</div>
<p>带 <u>下划线</u> 的文本</p>
<p>带 <emp>着重号</emp> 的文本</p>
<p>带 <wavy>波浪线</wavy> 的文本</p>
<p>带 <del>删除线</del> 的文本</p>
<p>键盘样式的文本 <kbd>command</kbd> + <kbd>D</kbd></p>
<p>密码样式的文本：<psw>这里没有验证码</psw></p>
<p>彩色文字<br>
在一段话中方便插入各种颜色的标签，包括：<span class="p red">红色</span>、<span class="p yellow">黄色</span>、<span class="p green">绿色</span>、<span class="p cyan">青色</span>、<span class="p blue">蓝色</span>、<span class="p gray">灰色</span>。超大号文字</p>
<p>文档「开始」页面中的标题部分就是超大号文字。<br>
<span class="p center logo large">Volantis</span><br>
<span class="p center small">A Wonderful Theme for Hexo</span></p>
<div class="checkbox green checked"><input type="checkbox" checked="checked">
            <p>绿色 + 默认选中</p>
            </div>
<div class="timeline color]"><div class="timeline-item headline"><div class="timeline-item-title"><div class="item-circle"><p>时间线标题（可选）[</p>
</div></div></div><div class="timeline-item"><div class="timeline-item-title"><div class="item-circle"><p>时间节点（标题）</p>
</div></div><div class="timeline-item-content"><p>正文内容</p>
</div></div><div class="timeline-item"><div class="timeline-item-title"><div class="item-circle"><p>时间节点（标题）</p>
</div></div><div class="timeline-item-content"><p>正文内容</p>
</div></div></div>
<div class="btns circle grid5">
            <a class="button" target="_blank" rel="noopener" href="https://xaoxuu.com" title="xaoxuu"><img src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png">xaoxuu</a>
<a class="button" target="_blank" rel="noopener" href="https://xaoxuu.com" title="xaoxuu"><img src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png">xaoxuu</a>
<a class="button" target="_blank" rel="noopener" href="https://xaoxuu.com" title="xaoxuu"><img src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png">xaoxuu</a>
<a class="button" target="_blank" rel="noopener" href="https://xaoxuu.com" title="xaoxuu"><img src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png">xaoxuu</a>
<a class="button" target="_blank" rel="noopener" href="https://xaoxuu.com" title="xaoxuu"><img src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png">xaoxuu</a>
          </div>
<p>作者: Chaospring<br>
链接: https://chaospring.com/posts/4770/#%E6%8C%89%E9%92%AE-btns<br>
来源: Chaospring<br>
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>
<p>脚注footnotes测试<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>，脚注英文<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>，脚注中文<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a></p>
<details class="folding-tag" cyan open><summary> 查看默认打开的折叠框 </summary>
              <div class="content">
              <p>这是一个默认打开的折叠框。</p>
              </div>
            </details>
<div class="tabs" id="tab1"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#tab1-1">预览</button></li><li class="tab"><button type="button" data-href="#tab1-2">源码</button></li><li class="tab"><button type="button" data-href="#tab1-3">配置参数</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="tab1-1"><p><strong>This is Tab 1.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="tab1-2"><p><strong>This is Tab 2.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="tab1-3"><p><strong>This is Tab 3.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<div class="tip "><p>默认情况</p>
</div>
<div class="tip "><p>default</p>
</div>
<div class="tip info"><p>info</p>
</div>
<div class="tip success"><p>success</p>
</div>
<div class="tip error"><p>error</p>
</div>
<div class="tip warning"><p>warning</p>
</div>
<div class="tip bolt"><p>bolt</p>
</div>
<div class="tip ban"><p>ban</p>
</div>
<div class="tip home"><p>home</p>
</div>
<div class="tip sync"><p>sync</p>
</div>
<div class="tip cogs"><p>cogs</p>
</div>
<div class="tip key"><p>key</p>
</div>
<div class="tip bell"><p>bell</p>
</div>
<div class="tip fa-atom"><p>自定义font awesome图标</p>
</div>
<div class="note modern"><p>默认 提示块标签</p>
</div>
<div class="note icon modern"><i class="note-icon fab fa-cc-visa"></i><p>你是刷 Visa 还是 UnionPay</p>
</div>
<div class="note primary modern"><p>primary 提示块标签</p>
</div>
<div class="note pink icon modern"><i class="note-icon fas fa-car-crash"></i><p>小心开车 安全至上</p>
</div>
<div class="note icon modern"><i class="note-icon fab fa-cc-visa"></i><p>你是刷 Visa 还是 UnionPay</p>
</div>
<div class="note blue icon modern"><i class="note-icon fas fa-bullhorn"></i><p>2021年快到了....</p>
</div>
<div class="note pink icon modern"><i class="note-icon fas fa-car-crash"></i><p>小心开车 安全至上</p>
</div>
<div class="note red icon modern"><i class="note-icon fas fa-fan"></i><p>这是三片呢？还是四片？</p>
</div>
<div class="note orange icon modern"><i class="note-icon fas fa-battery-half"></i><p>你是刷 Visa 还是 UnionPay</p>
</div>
<div class="note purple icon modern"><i class="note-icon far fa-hand-scissors"></i><p>剪刀石头布</p>
</div>
<div class="note green icon modern"><i class="note-icon fab fa-internet-explorer"></i><p>前端最讨厌的浏览器</p>
</div>
<div class="progress"><div class="progress-bar-animated progress-bar progress-bar-striped bg-red" style="width: 10%" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100"><p>进度条样式预览</p></div></div>
<div class="progress"><div class="progress-bar-animated progress-bar progress-bar-striped bg-yellow" style="width: 30%" aria-valuenow="30" aria-valuemin="0" aria-valuemax="100"><p>进度条样式预览</p></div></div>
<div class="progress"><div class="progress-bar-animated progress-bar progress-bar-striped bg-green" style="width: 50%" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"><p>进度条样式预览</p></div></div>
<div class="progress"><div class="progress-bar-animated progress-bar progress-bar-striped bg-cyan" style="width: 70%" aria-valuenow="70" aria-valuemin="0" aria-valuemax="100"><p>进度条样式预览</p></div></div>
<div class="progress"><div class="progress-bar-animated progress-bar progress-bar-striped bg-blue" style="width: 90%" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100"><p>进度条样式预览</p></div></div>
<div class="progress"><div class="progress-bar-animated progress-bar progress-bar-striped bg-gray" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"><p>进度条样式预览</p></div></div>
<h1 id="mermaid绘图">mermaid绘图</h1>
<pre class="mermaid">graph TB;
subgraph 分情况
A(开始)-->B{判断}
end
B--第一种情况-->C[第一种方案]
B--第二种情况-->D[第二种方案]
B--第三种情况-->F{第三种方案}
subgraph 分种类
F-.第1个.->J((测试圆形))
F-.第2个.->H>右向旗帜形]
end
H---I(测试完毕)
C--票数100---I(测试完毕)
D---I(测试完毕)
J---I(测试完毕)</pre>
<pre class="mermaid">sequenceDiagram
Title: 小明买书

participant consumer as 小明
participant store as 书店
participant publisher as 出版社

consumer ->> store: 想买一本限量版书籍
store -->> consumer: 缺货
consumer ->> store: 隔一个月再次询问
store -->> consumer: 抢完了
loop 一个星期一次
consumer -x +store: 有货了吗
store --x -consumer: 正在订,有货马上通知你
end

store ->> publisher: 我要订购一批货
publisher --x store: 返回所有书籍的类别信息

alt 书籍类别符合要求
store ->> publisher: 请求书单信息
publisher --x store: 返回该类别书单信息
else 书单里的书有市场需求
store ->> publisher: 购买指定数据
publisher --x store: 确认订单
else 书籍不符合要求
store -->> publisher: 暂时不购买
end

par 并行执行
publisher ->> publisher : 生产
publisher ->> publisher : 销售
end

opt 书籍购买量>=500 && 库存>=50
publisher ->> store : 出货
store --x publisher : 确认收货
end

Note left of consumer : 图书收藏家
Note over consumer,store : 去书店购买书籍
Note left of store : 全国知名书店
Note over store,publisher : 去出版社进货
Note left of publisher : 持有版权的出版社</pre>
<pre class="mermaid">pie
 title Pie Chart
 "Dogs" : 386
 "cats" : 567
 "rabbit" : 700
 "pig":365
 "tiger" : 15</pre>
<pre class="mermaid">%%{init: { "sequence-theme": "hand" } }%%

timeline
        title England's History Timeline
        section Stone Age
          7600 BC : Britain's oldest known house was built in Orkney, Scotland
          6000 BC : Sea levels rise and Britain becomes an island.<br> The people who live here are hunter-gatherers.
        section Bronze Age
          2300 BC : People arrive from Europe and settle in Britain. <br>They bring farming and metalworking.
                  : New styles of pottery and ways of burying the dead appear.
          2200 BC : The last major building works are completed at Stonehenge.<br> People now bury their dead in stone circles.
                  : The first metal objects are made in Britain.Some other nice things happen. it is a good time to be alive.
                  2200 BC : The last major building works are completed at Stonehenge.<br> People now bury their dead in stone circles.
                  : The first metal objects are made in Britain.Some other nice things happen. it is a good time to be alive.</pre>
<pre class="mermaid">%%{init: { "sequence": { "wrap": true} } }%%
sequenceDiagram

Alice->Bob: Hello Bob, how are you?
Bob->Alice: Fine, how did you mother like the book I suggested? And did you catch the new book about alien invasion?
Alice->Bob: Good.
Bob->Alice: Cool</pre>
<h1 id="github-style-alert">github style alert</h1>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; [!NOTE]</span><br><span class="line">&gt; Information the user should notice even <span class="keyword">if</span> skimming.<span class="variable">$a</span> \leq b$</span><br></pre></td></tr></table></figure>
<div class="markdown-alert markdown-alert-note" dir="auto"><p class="markdown-alert-title" dir="auto"><svg class="octicon octicon-info mr-2" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p><p dir="auto">
Information the user should notice even if skimming.<span class="math inline">\(a \leq b\)</span></p></div>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; [!tip]</span><br><span class="line">&gt; Information the user should notice even <span class="keyword">if</span> skimming.</span><br></pre></td></tr></table></figure>
<div class="markdown-alert markdown-alert-tip" dir="auto"><p class="markdown-alert-title" dir="auto"><svg class="octicon octicon-light-bulb mr-2" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z"></path></svg>Tip</p><p dir="auto">
Information the user should notice even if skimming.</p></div>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; [!important]</span><br><span class="line">&gt; Information the user should notice even <span class="keyword">if</span> skimming.</span><br></pre></td></tr></table></figure>
<div class="markdown-alert markdown-alert-important" dir="auto"><p class="markdown-alert-title" dir="auto"><svg class="octicon octicon-report mr-2" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v9.5A1.75 1.75 0 0 1 14.25 13H8.06l-2.573 2.573A1.458 1.458 0 0 1 3 14.543V13H1.75A1.75 1.75 0 0 1 0 11.25Zm1.75-.25a.25.25 0 0 0-.25.25v9.5c0 .138.112.25.25.25h2a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h6.5a.25.25 0 0 0 .25-.25v-9.5a.25.25 0 0 0-.25-.25Zm7 2.25v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 9a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path></svg>Important</p><p dir="auto">
Information the user should notice even if skimming.</p></div>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; [!caution]</span><br><span class="line">Information the user should notice even <span class="keyword">if</span> skimming.</span><br></pre></td></tr></table></figure>
<div class="markdown-alert markdown-alert-caution" dir="auto"><p class="markdown-alert-title" dir="auto"><svg class="octicon octicon-stop mr-2" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M4.47.22A.749.749 0 0 1 5 0h6c.199 0 .389.079.53.22l4.25 4.25c.141.14.22.331.22.53v6a.749.749 0 0 1-.22.53l-4.25 4.25A.749.749 0 0 1 11 16H5a.749.749 0 0 1-.53-.22L.22 11.53A.749.749 0 0 1 0 11V5c0-.199.079-.389.22-.53Zm.84 1.28L1.5 5.31v5.38l3.81 3.81h5.38l3.81-3.81V5.31L10.69 1.5ZM8 4a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0v-3.5A.75.75 0 0 1 8 4Zm0 8a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Caution</p><p dir="auto">
Information the user should notice even if skimming.</p></div>
<div class="markdown-alert markdown-alert-tip" dir="auto"><p class="markdown-alert-title" dir="auto"><svg class="octicon octicon-light-bulb mr-2" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z"></path></svg>Tip</p><p dir="auto">
Optional information to help a user be more successful.</p></div>
<div class="markdown-alert markdown-alert-important" dir="auto"><p class="markdown-alert-title" dir="auto"><svg class="octicon octicon-report mr-2" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v9.5A1.75 1.75 0 0 1 14.25 13H8.06l-2.573 2.573A1.458 1.458 0 0 1 3 14.543V13H1.75A1.75 1.75 0 0 1 0 11.25Zm1.75-.25a.25.25 0 0 0-.25.25v9.5c0 .138.112.25.25.25h2a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h6.5a.25.25 0 0 0 .25-.25v-9.5a.25.25 0 0 0-.25-.25Zm7 2.25v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 9a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path></svg>Important</p><p dir="auto">
Essential information required for user success.aaa</p>
<p>sdfkahsdkfhkaskdfhkashkdfhkashdkfkashdkfhkasdhkfkasdhkfhaskdhf<br>
ashdkfhkasdkfhkas<br>
ahksdhfkasjkdfhaskdfh</p></div>
<div class="markdown-alert markdown-alert-important" dir="auto"><p class="markdown-alert-title" dir="auto"><svg class="octicon octicon-report mr-2" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v9.5A1.75 1.75 0 0 1 14.25 13H8.06l-2.573 2.573A1.458 1.458 0 0 1 3 14.543V13H1.75A1.75 1.75 0 0 1 0 11.25Zm1.75-.25a.25.25 0 0 0-.25.25v9.5c0 .138.112.25.25.25h2a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h6.5a.25.25 0 0 0 .25-.25v-9.5a.25.25 0 0 0-.25-.25Zm7 2.25v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 9a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path></svg>Important</p><p dir="auto">
Essential information required for user success.aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa<br>
sdfkahsdkfhkaskdfhkashkdfhkashdkfkashdkfhkasdhkfkasdhkfhaskdhf<br>
ashdkfhkasdkfhkas<br>
ahksdhfkasjkdfhaskdfh</p></div>
<div class="markdown-alert markdown-alert-caution" dir="auto"><p class="markdown-alert-title" dir="auto"><svg class="octicon octicon-stop mr-2" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M4.47.22A.749.749 0 0 1 5 0h6c.199 0 .389.079.53.22l4.25 4.25c.141.14.22.331.22.53v6a.749.749 0 0 1-.22.53l-4.25 4.25A.749.749 0 0 1 11 16H5a.749.749 0 0 1-.53-.22L.22 11.53A.749.749 0 0 1 0 11V5c0-.199.079-.389.22-.53Zm.84 1.28L1.5 5.31v5.38l3.81 3.81h5.38l3.81-3.81V5.31L10.69 1.5ZM8 4a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0v-3.5A.75.75 0 0 1 8 4Zm0 8a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Caution</p><p dir="auto">
Negative potential consequences of an action.<br>
tesesdfksdhfkksd</p></div>
<div class="markdown-alert markdown-alert-warning" dir="auto"><p class="markdown-alert-title" dir="auto"><svg class="octicon octicon-alert mr-2" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path></svg>Warning</p><p dir="auto">
Dangerous certain consequences of an action.</p></div>
<blockquote>
<p>test</p>
<p>esskdf<span class="math inline">\(a \leq b\)</span></p>
<p>sdflsj<br>
sdfsdfhkaaosofosajdf</p>
</blockquote>
<p>sdfsdf<br>
asdfasdf<br>
asdfasdf<br>
asdfasdfasdf</p>
<div class="markdown-alert markdown-alert-note" dir="auto"><p class="markdown-alert-title" dir="auto"><svg class="octicon octicon-info mr-2" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p><p dir="auto">
sdfskjdhf<br>
sdfskhdkf'<br>
askdfhkashdf<br>
aksdhfkas</p></div>
<div class="markdown-alert markdown-alert-note" dir="auto"><p class="markdown-alert-title" dir="auto"><svg class="octicon octicon-info mr-2" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p><p dir="auto"></p>
<p>sdfskjdhf</p>
<p>sdfskhdkf'</p>
<p>askdfhkashdf</p>
<p>aksdhfkas</p></div>
<h1 id="admonition">admonition</h1>
<div class="admonition admonition-note">
<p class="admonition-title">Hexo-admonition 插件使用示例
</p>
<p>这是基于 hexo-admonition 插件渲染的一条提示信息。类型为 note，并设置了自定义标题。</p>
<p>提示内容开头留 4 个空格，可以有多行，最后用空行结束此标记。</p>
</div>
<div class="admonition admonition-warning">
<p class="admonition-title">Warning</p>
<p>这是一条采用默认标题的警告信息。</p>
</div>
<div class="admonition admonition-warning">
<p>这是一条不带标题的警告信息。</p>
</div>
<div class="admonition admonition-note">
<p class="admonition-title">嵌套链接及引用块
</p>
<p>欢迎访问我的博客链接：<a target="_blank" rel="noopener" href="https://www.example.cn">悟尘纪</a></p>
<blockquote>
<p>这里嵌套一行引用信息。</p>
</blockquote>
</div>
<div class="admonition admonition-note">
<p class="admonition-title">嵌套链接及引用块
</p>
<p>嵌套admonition</p>
<div class="admonition admonition-note">
<p class="admonition-title">嵌套admonition
</p>
<p>子内容</p>
</div>
</div>
<div class="admonition admonition-note">
<p class="admonition-title">如果 $k \leq r$
</p>
<p>标题为公式，内容公式<span class="math inline">\(k \leq r\)</span></p>
</div>
<p>所有功能</p>
<div class="admonition admonition-note">
<p class="admonition-title">Note</p>
</div>
<div class="admonition admonition-abstract">
<p class="admonition-title">Abstract</p>
</div>
<div class="admonition admonition-info">
<p class="admonition-title">Info</p>
</div>
<div class="admonition admonition-tip">
<p class="admonition-title">Tip</p>
</div>
<div class="admonition admonition-success">
<p class="admonition-title">Success</p>
</div>
<div class="admonition admonition-question">
<p class="admonition-title">Question</p>
</div>
<div class="admonition admonition-todo">
<p class="admonition-title">Todo</p>
</div>
<div class="admonition admonition-warning">
<p class="admonition-title">Warning</p>
</div>
<div class="admonition admonition-failure">
<p class="admonition-title">Failure</p>
</div>
<div class="admonition admonition-danger">
<p class="admonition-title">Danger</p>
</div>
<div class="admonition admonition-bug">
<p class="admonition-title">Bug</p>
</div>
<div class="admonition admonition-example">
<p class="admonition-title">Example</p>
</div>
<div class="admonition admonition-quote">
<p class="admonition-title">Quote</p>
</div>
<div class="admonition admonition-attention">
<p class="admonition-title">Attention</p>
</div>
<div class="admonition admonition-caution">
<p class="admonition-title">Caution</p>
</div>
<div class="admonition admonition-missing">
<p class="admonition-title">Missing</p>
</div>
<div class="admonition admonition-error">
<p class="admonition-title">Error</p>
</div>
<h1 id="wavedrom">wavedrom</h1>
<script type="WaveDrom">{reg: [
    { "name": "IPO",   "bits": 8, "attr": "RO" },
    {                  "bits": 7 },
     { "name": "BRK",   "bits": 5, "attr": "RW", "type": 4 },
     { "name": "CPK",   "bits": 1 },
     { "name": "Clear", "bits": 3 },
     { "bits": 8 }
]}</script>
<script type="WaveDrom">{ signal : [
  { name: "clk",  wave: "p......" },
  { name: "bus",  wave: "x.34.5x",   data: "head body tail" },
  { name: "wire", wave: "0.1..0." },
]}</script>
<p>外部图片链接</p>
<p><img src="https://svg.wavedrom.com/%7Bsignal:%5B%7Bname:&#39;clk&#39;,wave:&#39;p......&#39;%7D,%7Bname:&#39;bus&#39;,wave:&#39;x.34.5x&#39;,data:&#39;head%20body%20tail&#39;%7D,%7Bname:&#39;wire&#39;,wave:&#39;0.1..0.&#39;%7D%5D%7D" alt="wave"></p>
<h1 id="echarts绘图">echarts绘图</h1>
<p>图一</p>
<div id="echart-1" style="width:80%;height:400px;margin: 0 auto">

</div>
<script data-pjax type="text/javascript">
                        // 基于准备好的dom,初始化echarts实例
                        var myChart = echarts.init(document.getElementById('echart-1'));
                        // 指定图表的配置项和数据
                        var option = {
    tooltip : {
        trigger: 'axis',
        axisPointer : {            // 坐标轴指示器，坐标轴触发有效
            type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
        }
    },
    legend: {
        data:['利润', '支出', '收入']
    },
    grid: {
        left: '3%',
        right: '4%',
        bottom: '3%',
        containLabel: true
    },
    xAxis : [
        {
            type : 'value'
        }
    ],
    yAxis : [
        {
            type : 'category',
            axisTick : {show: false},
            data : ['周一','周二','周三','周四','周五','周六','周日']
        }
    ],
    series : [
        {
            name:'利润',
            type:'bar',
            itemStyle : {
                normal: {
                    label: {show: true, position: 'inside'}
                }
            },
            data:[200, 170, 240, 244, 200, 220, 210]
        },
        {
            name:'收入',
            type:'bar',
            stack: '总量',
            itemStyle: {
                normal: {
                    label : {show: true}
                }
            },
            data:[320, 302, 341, 374, 390, 450, 420]
        },
        {
            name:'支出',
            type:'bar',
            stack: '总量',
            itemStyle: {normal: {
                label : {show: true, position: 'left'}
            }},
            data:[-120, -132, -101, -134, -190, -230, -210]
        }
    ]
};
                        // 使用刚指定的配置项和数据显示图表。
                        myChart.setOption(option);
                        </script>
<p>图二</p>
<div id="echart-2" style="width:80%;height:400px;margin: 0 auto">

</div>
<script data-pjax type="text/javascript">
                        // 基于准备好的dom,初始化echarts实例
                        var myChart = echarts.init(document.getElementById('echart-2'));
                        // 指定图表的配置项和数据
                        var option = {
  "title": { "text": "最近 30 天" },
  "tooltip": { "trigger": "axis", "axisPointer": { "lineStyle": { "width": 0 } } },
  "legend": { "data": ["帖子", "用户", "回帖"] },
  "xAxis": [{
      "type": "category",
      "boundaryGap": false,
      "data": ["2019-05-08","2019-05-09","2019-05-10","2019-05-11","2019-05-12","2019-05-13","2019-05-14","2019-05-15","2019-05-16","2019-05-17","2019-05-18","2019-05-19","2019-05-20","2019-05-21","2019-05-22","2019-05-23","2019-05-24","2019-05-25","2019-05-26","2019-05-27","2019-05-28","2019-05-29","2019-05-30","2019-05-31","2019-06-01","2019-06-02","2019-06-03","2019-06-04","2019-06-05","2019-06-06","2019-06-07"],
      "axisTick": { "show": false },
      "axisLine": { "show": false }
  }],
  "yAxis": [{ "type": "value", "axisTick": { "show": false }, "axisLine": { "show": false }, "splitLine": { "lineStyle": { "color": "rgba(0, 0, 0, .38)", "type": "dashed" } } }],
  "series": [
    {
      "name": "帖子", "type": "line", "smooth": true, "itemStyle": { "color": "#d23f31" }, "areaStyle": { "normal": {} }, "z": 3,
      "data": ["18","14","22","9","7","18","10","12","13","16","6","9","15","15","12","15","8","14","9","10","29","22","14","22","9","10","15","9","9","15","0"]
    },
    {
      "name": "用户", "type": "line", "smooth": true, "itemStyle": { "color": "#f1e05a" }, "areaStyle": { "normal": {} }, "z": 2,
      "data": ["31","33","30","23","16","29","23","37","41","29","16","13","39","23","38","136","89","35","22","50","57","47","36","59","14","23","46","44","51","43","0"]
    },
    {
      "name": "回帖", "type": "line", "smooth": true, "itemStyle": { "color": "#4285f4" }, "areaStyle": { "normal": {} }, "z": 1,
      "data": ["35","42","73","15","43","58","55","35","46","87","36","15","44","76","130","73","50","20","21","54","48","73","60","89","26","27","70","63","55","37","0"]
    }
  ]
};
                        // 使用刚指定的配置项和数据显示图表。
                        myChart.setOption(option);
                        </script>
<h1 id="音乐">音乐</h1>
<h2 id="abc五线谱">abc五线谱</h2>
<p>有很多音乐都没有abc的谱子，这时候可以通过下载midi或者musicxml格式的歌曲，然后通过工具转换成abc格式。<br>
<a target="_blank" rel="noopener" href="https://github.com/marmooo/midi2abc?tab=readme-ov-file">midi2abc</a>,以及其<a target="_blank" rel="noopener" href="https://marmooo.github.io/midi2abc/">在线工具</a></p>
<p>musicxml转abc的工具(这两个工具我还没有试过)：<br>
<a target="_blank" rel="noopener" href="https://wim.vree.org/svgParse/xml2abc.html">xml2abc</a><br>
<a target="_blank" rel="noopener" href="https://github.com/iammatthi/musicXML-to-simplifiedAbc">musicXML-to-simplifiedAbc</a></p>
<p>
<br>
</p>
<div id="abcjs-audio0" class="abcjs-audio-container">

</div>
<p class="abcjs-buttons-div"><button id="transpose-down0" class="abcjs-buttons">-1</button><button id="transpose-up0" class="abcjs-buttons">+1</button><button id="transpose-to-c0" class="abcjs-buttons">Key to C</button><button id="reset-transpose0" class="abcjs-buttons">Reset Key</button><button id="transpose-up-octave0" class="abcjs-buttons">+Octave</button><button id="transpose-down-octave0" class="abcjs-buttons">-Octave</button>
</p>
<div id="abcjs-paper0" class="abcjs-paper-container">

</div>
<script data-pjax type="text/javascript">
        if(typeof abcString0 === 'undefined') {
            var abcString0 =  "X: 22\nT:Money Lost\nM:3/4\nL:1/8\nQ:1/4=100\nC:Paul Rosen\nS:Copyright 2007, Paul Rosen\nR:Klezmer\nK:Dm\nAde|:\"Dm\"(f2d)e gf|\"A7\"e2^c4|\"Gm\"B>>^c BA BG|\"A\"A3Ade|\"Dm\"(f2d)e gf|\"A7\"e2^c4|\n\"Gm\"A>>B \"A7\"AG FE|1\"Dm\"D3Ade:|2\"Dm\"D3DEF||:\"Gm\"(G2D)E FG|\"Dm\"A2F4|\"Gm\"B>>c \"A7\"BA BG|\n\"Dm\"A3 DEF|\"Gm\"(G2D)EFG|\"Dm\"A2F4|\"E°\"E>>Fy \"(A7)\"ED^C2|1\"Dm\"D3DEF:|2\"Dm\"D6||";
        };

        if(typeof transposeHalfSteps0 === 'undefined') {
            var transposeHalfSteps0 = 0;
        };

        function CursorControl0() {
            var self = this;

            self.onReady = function() {
                // var downloadLink = document.querySelector(".download");
                // downloadLink.addEventListener("click", download);
                // downloadLink.setAttribute("style", "");
                // var clickEl = document.querySelector(".click-explanation")
                // clickEl.setAttribute("style", "");
            };
            self.onStart = function() {
                var svg = document.querySelector("#abcjs-paper0 svg");
                var cursor = document.createElementNS("http://www.w3.org/2000/svg", "line");
                cursor.setAttribute("class", "abcjs-cursor");
                cursor.setAttributeNS(null, 'x1', 0);
                cursor.setAttributeNS(null, 'y1', 0);
                cursor.setAttributeNS(null, 'x2', 0);
                cursor.setAttributeNS(null, 'y2', 0);
                svg.appendChild(cursor);

            };
            self.beatSubdivisions = 2;
            // self.onBeat = function(beatNumber, totalBeats, totalTime) {
            //  if (!self.beatDiv)
            //      self.beatDiv = document.querySelector(".beat");
            //  self.beatDiv.innerText = "Beat: " + beatNumber + " Total: " + totalBeats + " Total time: " + totalTime;
            // };
            self.onEvent = function(ev) {
                if (ev.measureStart && ev.left === null)
                    return; // this was the second part of a tie across a measure line. Just ignore it.

                var lastSelection = document.querySelectorAll("#abcjs-paper0 svg .abcjs-highlight");
                for (var k = 0; k < lastSelection.length; k++)
                    lastSelection[k].classList.remove("abcjs-highlight");

                // var el = document.querySelector(".feedback").innerHTML = "<div class='label'>Current Note:</div>" + JSON.stringify(ev, null, 4);
                for (var i = 0; i < ev.elements.length; i++ ) {
                    var note = ev.elements[i];
                    for (var j = 0; j < note.length; j++) {
                        note[j].classList.add("abcjs-highlight");
                    };
                }

                var cursor = document.querySelector("#abcjs-paper0 svg .abcjs-cursor");
                if (cursor) {
                    cursor.setAttribute("x1", ev.left - 2);
                    cursor.setAttribute("x2", ev.left - 2);
                    cursor.setAttribute("y1", ev.top);
                    cursor.setAttribute("y2", ev.top + ev.height);
                }
            };
            self.onFinished = function() {
                var els = document.querySelectorAll("#abcjs-paper0 svg .abcjs-highlight");
                for (var i = 0; i < els.length; i++ ) {
                    els[i].classList.remove("abcjs-highlight");
                }
                var cursor = document.querySelector("abcjs-paper0 svg .abcjs-cursor");
                if (cursor) {
                    cursor.setAttribute("x1", 0);
                    cursor.setAttribute("x2", 0);
                    cursor.setAttribute("y1", 0);
                    cursor.setAttribute("y2", 0);
                }
            };
        }

        function clickListener0(abcElem, tuneNumber, classes, analysis, drag, mouseEvent) {
            var lastClicked = abcElem.midiPitches;
            if (!lastClicked)
                return;

            ABCJS.synth.playEvent(lastClicked, abcElem.midiGraceNotePitches, synthControl0.visualObj.millisecondsPerMeasure()).then(function (response) {
                console.log("note played");
            }).catch(function (error) {
                console.log("error playing note", error);
            });
        }

        if(typeof cursorControl0 === 'undefined'){
            var cursorControl0 = new CursorControl0();
        };

        if(typeof synthControl0 === 'undefined'){
            if (ABCJS.synth.supportsAudio()) {
                var synthControl0 = new ABCJS.synth.SynthController();
            }
        }   

        if(typeof abcOptions0 === 'undefined'){
            var abcOptions0 = {
                add_classes: true,
                clickListener: clickListener0,
                responsive: "resize"
            };
        }

        function setTune0(userAction) {

            synthControl0.disable(true);
            
            var visualObj = ABCJS.renderAbc("abcjs-paper0", abcString0, Object.assign({}, abcOptions0, {visualTranspose: transposeHalfSteps0}))[0];
            // var midi = ABCJS.synth.getMidiFile(abcString);
            // var midiButton = document.querySelector(".midi");
            // midiButton.innerHTML = midi;

            // TODO-PER: This will allow the callback function to have access to timing info - this should be incorporated into the render at some point.
            var midiBuffer = new ABCJS.synth.CreateSynth();
            midiBuffer.init({
                //audioContext: new AudioContext(),
                visualObj: visualObj,
                // sequence: [],
                // millisecondsPerMeasure: 1000,
                // debugCallback: function(message) { console.log(message) },
                options: {
                    // soundFontUrl: "https://paulrosen.github.io/midi-js-soundfonts/FluidR3_GM/" ,
                    // sequenceCallback: function(noteMapTracks, callbackContext) { return noteMapTracks; },
                    // callbackContext: this,
                    // onEnded: function(callbackContext),
                    // pan: [ -0.5, 0.5 ]
                }
            }).then(function (response) {
            console.log(response);
            if (synthControl0) {
                synthControl0.setTune(visualObj, userAction, {midiTranspose:transposeHalfSteps0}).then(function (response) {
                    console.log("Audio successfully loaded.")
                }).catch(function (error) {
                    console.warn("Audio problem:", error);
                });
            }
            }).catch(function (error) {
                console.warn("Audio problem:", error);
            });

        }

        function transposeToC0() {
            const keyMap = {
                'C': 0, 'C#': 1, 'Db': 1, 'D': 2, 'D#': 3, 'Eb': 3, 'E': 4, 'F': 5,
                'F#': 6, 'Gb': 6, 'G': 7, 'G#': 8, 'Ab': 8, 'A': 9, 'A#': 10, 'Bb': 10, 'B': 11
            };

            const keyMatch = abcString0.match(/K: ?([A-G][b#]?)/);
            if (keyMatch) {
                const originalKey = keyMatch[1];
                const halfStepsToC = -keyMap[originalKey];
                transposeHalfSteps0 = halfStepsToC;
                setTune0(true);
            } else {
                console.error('Could not find key in abc string');
            }
        }

        document.getElementById('transpose-up0').addEventListener('click', function() {
            transposeHalfSteps0++;
            setTune0(true);
        });

        document.getElementById('transpose-down0').addEventListener('click', function() {
            transposeHalfSteps0--;
            setTune0(true);
        });

        document.getElementById('transpose-to-c0').addEventListener('click', transposeToC0);

        document.getElementById('reset-transpose0').addEventListener('click', function() {
            transposeHalfSteps0 = 0;
            setTune0(true);
        });

        document.getElementById('transpose-up-octave0').addEventListener('click', function() {
            transposeHalfSteps0 += 12;
            setTune0(true);
        });

        document.getElementById('transpose-down-octave0').addEventListener('click', function() {
            transposeHalfSteps0 -= 12;
            setTune0(true);
        });

        if (ABCJS.synth.supportsAudio()) {
            synthControl0.load("#abcjs-audio0", cursorControl0, {displayLoop: true, displayRestart: true, displayPlay: true, displayProgress: true, displayWarp: true});
        } else {
            document.querySelector("#abcjs-audio0").innerHTML = "<div class='audio-error'>Audio is not supported in this browser.</div>";
        }
        setTune0(false);
</script>
<p>
<br>
</p>
<div id="abcjs-audio1" class="abcjs-audio-container">

</div>
<p class="abcjs-buttons-div"><button id="transpose-down1" class="abcjs-buttons">-1</button><button id="transpose-up1" class="abcjs-buttons">+1</button><button id="transpose-to-c1" class="abcjs-buttons">Key to C</button><button id="reset-transpose1" class="abcjs-buttons">Reset Key</button><button id="transpose-up-octave1" class="abcjs-buttons">+Octave</button><button id="transpose-down-octave1" class="abcjs-buttons">-Octave</button>
</p>
<div id="abcjs-paper1" class="abcjs-paper-container">

</div>
<script data-pjax type="text/javascript">
        if(typeof abcString1 === 'undefined') {
            var abcString1 =  "X: 1\nT: Cooley's\nM: 4/4\nL: 1/8\nK: Emin\n|:D2|\"Em\"EBBA B2 EB|\\\n    ~B2 AB dBAG|\\\n    \"D\"FDAD BDAD|\\\n    FDAD dAFD|\n\"Em\"EBBA B2 EB|\\\n    B2 AB defg|\\\n    \"D\"afe^c dBAF|\\\n    \"Em\"DEFD E2:|\n|:gf|\"Em\"eB B2 efge|\\\n    eB B2 gedB|\\\n    \"D\"A2 FA DAFA|\\\n    A2 FA defg|\n\"Em\"eB B2 eBgB|\\\n    eB B2 defg|\\\n    \"D\"afe^c dBAF|\\\n    \"Em\"DEFD E2:|";
        };

        if(typeof transposeHalfSteps1 === 'undefined') {
            var transposeHalfSteps1 = 0;
        };

        function CursorControl1() {
            var self = this;

            self.onReady = function() {
                // var downloadLink = document.querySelector(".download");
                // downloadLink.addEventListener("click", download);
                // downloadLink.setAttribute("style", "");
                // var clickEl = document.querySelector(".click-explanation")
                // clickEl.setAttribute("style", "");
            };
            self.onStart = function() {
                var svg = document.querySelector("#abcjs-paper1 svg");
                var cursor = document.createElementNS("http://www.w3.org/2000/svg", "line");
                cursor.setAttribute("class", "abcjs-cursor");
                cursor.setAttributeNS(null, 'x1', 0);
                cursor.setAttributeNS(null, 'y1', 0);
                cursor.setAttributeNS(null, 'x2', 0);
                cursor.setAttributeNS(null, 'y2', 0);
                svg.appendChild(cursor);

            };
            self.beatSubdivisions = 2;
            // self.onBeat = function(beatNumber, totalBeats, totalTime) {
            //  if (!self.beatDiv)
            //      self.beatDiv = document.querySelector(".beat");
            //  self.beatDiv.innerText = "Beat: " + beatNumber + " Total: " + totalBeats + " Total time: " + totalTime;
            // };
            self.onEvent = function(ev) {
                if (ev.measureStart && ev.left === null)
                    return; // this was the second part of a tie across a measure line. Just ignore it.

                var lastSelection = document.querySelectorAll("#abcjs-paper1 svg .abcjs-highlight");
                for (var k = 0; k < lastSelection.length; k++)
                    lastSelection[k].classList.remove("abcjs-highlight");

                // var el = document.querySelector(".feedback").innerHTML = "<div class='label'>Current Note:</div>" + JSON.stringify(ev, null, 4);
                for (var i = 0; i < ev.elements.length; i++ ) {
                    var note = ev.elements[i];
                    for (var j = 0; j < note.length; j++) {
                        note[j].classList.add("abcjs-highlight");
                    };
                }

                var cursor = document.querySelector("#abcjs-paper1 svg .abcjs-cursor");
                if (cursor) {
                    cursor.setAttribute("x1", ev.left - 2);
                    cursor.setAttribute("x2", ev.left - 2);
                    cursor.setAttribute("y1", ev.top);
                    cursor.setAttribute("y2", ev.top + ev.height);
                }
            };
            self.onFinished = function() {
                var els = document.querySelectorAll("#abcjs-paper1 svg .abcjs-highlight");
                for (var i = 0; i < els.length; i++ ) {
                    els[i].classList.remove("abcjs-highlight");
                }
                var cursor = document.querySelector("abcjs-paper1 svg .abcjs-cursor");
                if (cursor) {
                    cursor.setAttribute("x1", 0);
                    cursor.setAttribute("x2", 0);
                    cursor.setAttribute("y1", 0);
                    cursor.setAttribute("y2", 0);
                }
            };
        }

        function clickListener1(abcElem, tuneNumber, classes, analysis, drag, mouseEvent) {
            var lastClicked = abcElem.midiPitches;
            if (!lastClicked)
                return;

            ABCJS.synth.playEvent(lastClicked, abcElem.midiGraceNotePitches, synthControl1.visualObj.millisecondsPerMeasure()).then(function (response) {
                console.log("note played");
            }).catch(function (error) {
                console.log("error playing note", error);
            });
        }

        if(typeof cursorControl1 === 'undefined'){
            var cursorControl1 = new CursorControl1();
        };

        if(typeof synthControl1 === 'undefined'){
            if (ABCJS.synth.supportsAudio()) {
                var synthControl1 = new ABCJS.synth.SynthController();
            }
        }   

        if(typeof abcOptions1 === 'undefined'){
            var abcOptions1 = {
                add_classes: true,
                clickListener: clickListener1,
                responsive: "resize"
            };
        }

        function setTune1(userAction) {

            synthControl1.disable(true);
            
            var visualObj = ABCJS.renderAbc("abcjs-paper1", abcString1, Object.assign({}, abcOptions1, {visualTranspose: transposeHalfSteps1}))[0];
            // var midi = ABCJS.synth.getMidiFile(abcString);
            // var midiButton = document.querySelector(".midi");
            // midiButton.innerHTML = midi;

            // TODO-PER: This will allow the callback function to have access to timing info - this should be incorporated into the render at some point.
            var midiBuffer = new ABCJS.synth.CreateSynth();
            midiBuffer.init({
                //audioContext: new AudioContext(),
                visualObj: visualObj,
                // sequence: [],
                // millisecondsPerMeasure: 1000,
                // debugCallback: function(message) { console.log(message) },
                options: {
                    // soundFontUrl: "https://paulrosen.github.io/midi-js-soundfonts/FluidR3_GM/" ,
                    // sequenceCallback: function(noteMapTracks, callbackContext) { return noteMapTracks; },
                    // callbackContext: this,
                    // onEnded: function(callbackContext),
                    // pan: [ -0.5, 0.5 ]
                }
            }).then(function (response) {
            console.log(response);
            if (synthControl1) {
                synthControl1.setTune(visualObj, userAction, {midiTranspose:transposeHalfSteps1}).then(function (response) {
                    console.log("Audio successfully loaded.")
                }).catch(function (error) {
                    console.warn("Audio problem:", error);
                });
            }
            }).catch(function (error) {
                console.warn("Audio problem:", error);
            });

        }

        function transposeToC1() {
            const keyMap = {
                'C': 0, 'C#': 1, 'Db': 1, 'D': 2, 'D#': 3, 'Eb': 3, 'E': 4, 'F': 5,
                'F#': 6, 'Gb': 6, 'G': 7, 'G#': 8, 'Ab': 8, 'A': 9, 'A#': 10, 'Bb': 10, 'B': 11
            };

            const keyMatch = abcString1.match(/K: ?([A-G][b#]?)/);
            if (keyMatch) {
                const originalKey = keyMatch[1];
                const halfStepsToC = -keyMap[originalKey];
                transposeHalfSteps1 = halfStepsToC;
                setTune1(true);
            } else {
                console.error('Could not find key in abc string');
            }
        }

        document.getElementById('transpose-up1').addEventListener('click', function() {
            transposeHalfSteps1++;
            setTune1(true);
        });

        document.getElementById('transpose-down1').addEventListener('click', function() {
            transposeHalfSteps1--;
            setTune1(true);
        });

        document.getElementById('transpose-to-c1').addEventListener('click', transposeToC1);

        document.getElementById('reset-transpose1').addEventListener('click', function() {
            transposeHalfSteps1 = 0;
            setTune1(true);
        });

        document.getElementById('transpose-up-octave1').addEventListener('click', function() {
            transposeHalfSteps1 += 12;
            setTune1(true);
        });

        document.getElementById('transpose-down-octave1').addEventListener('click', function() {
            transposeHalfSteps1 -= 12;
            setTune1(true);
        });

        if (ABCJS.synth.supportsAudio()) {
            synthControl1.load("#abcjs-audio1", cursorControl1, {displayLoop: true, displayRestart: true, displayPlay: true, displayProgress: true, displayWarp: true});
        } else {
            document.querySelector("#abcjs-audio1").innerHTML = "<div class='audio-error'>Audio is not supported in this browser.</div>";
        }
        setTune1(false);
</script>
<p>
<br>
</p>
<div id="abcjs-audio2" class="abcjs-audio-container">

</div>
<p class="abcjs-buttons-div"><button id="transpose-down2" class="abcjs-buttons">-1</button><button id="transpose-up2" class="abcjs-buttons">+1</button><button id="transpose-to-c2" class="abcjs-buttons">Key to C</button><button id="reset-transpose2" class="abcjs-buttons">Reset Key</button><button id="transpose-up-octave2" class="abcjs-buttons">+Octave</button><button id="transpose-down-octave2" class="abcjs-buttons">-Octave</button>
</p>
<div id="abcjs-paper2" class="abcjs-paper-container">

</div>
<script data-pjax type="text/javascript">
        if(typeof abcString2 === 'undefined') {
            var abcString2 =  "X:1\nQ:1/4=60\nL:1/16\nM:3/4\nK:C clef=G2\nT:When the Swallows Homeward Fly\nV:1\n%%MIDI program 0\nB,3CD6G2|B3AG8|A2E2D4DG^FE|D3CB,4z4|\nB,2^D2E6E2|^F3B,G8|GBGED3A,^F4-|^F2E2D4z4|\nD3E^F6D2|^F2G2A8|^F3GA6^G2|A2B2c8-|\nc4B8|(3:2A2B2A2G8|D4D4E2^F2|G2A2B8|\nz4E4B4-|B2A2D8|G4^F4G4|A4B8-|\nB4d6c2|E2A2A8|G4^F4B4-|B2A2G8|\nL:1/16\nM:3/4\nK:C clef=G2\nV:2\n%%MIDI program 0\nB,3C[B,D]6[B,G]2|[DB]3[CA][B,G]8|[C^F]2E2[B,D]4DG^FE|D3CB,4z4|\nB,2^D2E6E2|^F3B,G8|GBGED3A,^F4-|^F2E2D4z4|\nD3E[D^F]6D2|^F2G2[DA]8|^F3G[^FA]6^G2|A2B2[D-^F-c-]8|\n[D^Fc]4[DGB]8|(3:2[CA]2[DB]2[CA]2[B,G]8|[B,D]4[C-D]4[C-E]2[C^F]2|G2A2[BGD]8|\nz4[C-E]4[C-B-]4|[CB]2[CA]2D8|G4^F4[EG]4|[^FA]4[G-B-]8|\n[GB]4[EAd]6c2|E2A2[B,-A]8|[B,G]4[^FC]4[B-D-]4|[BD]2[AC]2[GB,]8|\nL:1/16\nM:3/4\nK:C clef=F4\nV:3\n%%MIDI program 0\nz4G,,2D,2G,2D,2|G,2D,2G,,2D,2G,2D,2|G,2D,2D,,2D,2G,2D,2|^F,2D,2G,,2D,2G,2D,2|\nG,2[^F,A,]2[E,G,]2B,,2[E,G,]2B,,2|[^D,A,]2B,,2E,,2E,2[B,G,]2E,2|[B,G,]2E,2A,,2D,2[A,^F,]2D,2|[G,^C]2A,,2D,,2[A,^F,D,]2[A,^F,D,]2[A,^F,D,]2|\n[A,^F,D,]2[A,^F,D,]2[A,^F,D,]2[A,^F,D,]2[A,^F,D,]2[A,^F,D,]2|D,2E,2^F,2[A,^F,D,]2[A,^F,D,]2[A,^F,D,]2|[A,^F,D,]2[A,^F,D,]2[A,^F,D,]2[A,^F,D,]2[A,^F,D,]2[F,D,]2|[^F,D,]2[G,D,]2[A,D,]2[A,^F,D,]2[A,^F,D,]2[A,^F,D,]2|\n[A,^F,D,]2[A,^F,D,]2G,,2D,2G,2D,2|^F,2D,2D,,2D,2G,2D,2|G,2D,2D,,2D,2[A,^F,]2D,2|[A,^F,]2D,2G,,2D,2G,2D,2|\nG,2D,2C,2[A,E,]2[A,E,]2[A,E,]2|[A,E,]2[A,E,]2D,2[B,G,]2[B,G,]2[B,G,]2|[B,G,]2[B,G,]2D,2D2^C2A,2|C2A,2G,,2D,2G,2D,2|\nB,,2G,,2C,,2E,2[CA,]2E,2|[CA,]2E,2D,,2D,2G,2D,2|G,2D,2D,,2D,2^F,2D,2|^F,2D,2G,4G,,4|";
        };

        if(typeof transposeHalfSteps2 === 'undefined') {
            var transposeHalfSteps2 = 0;
        };

        function CursorControl2() {
            var self = this;

            self.onReady = function() {
                // var downloadLink = document.querySelector(".download");
                // downloadLink.addEventListener("click", download);
                // downloadLink.setAttribute("style", "");
                // var clickEl = document.querySelector(".click-explanation")
                // clickEl.setAttribute("style", "");
            };
            self.onStart = function() {
                var svg = document.querySelector("#abcjs-paper2 svg");
                var cursor = document.createElementNS("http://www.w3.org/2000/svg", "line");
                cursor.setAttribute("class", "abcjs-cursor");
                cursor.setAttributeNS(null, 'x1', 0);
                cursor.setAttributeNS(null, 'y1', 0);
                cursor.setAttributeNS(null, 'x2', 0);
                cursor.setAttributeNS(null, 'y2', 0);
                svg.appendChild(cursor);

            };
            self.beatSubdivisions = 2;
            // self.onBeat = function(beatNumber, totalBeats, totalTime) {
            //  if (!self.beatDiv)
            //      self.beatDiv = document.querySelector(".beat");
            //  self.beatDiv.innerText = "Beat: " + beatNumber + " Total: " + totalBeats + " Total time: " + totalTime;
            // };
            self.onEvent = function(ev) {
                if (ev.measureStart && ev.left === null)
                    return; // this was the second part of a tie across a measure line. Just ignore it.

                var lastSelection = document.querySelectorAll("#abcjs-paper2 svg .abcjs-highlight");
                for (var k = 0; k < lastSelection.length; k++)
                    lastSelection[k].classList.remove("abcjs-highlight");

                // var el = document.querySelector(".feedback").innerHTML = "<div class='label'>Current Note:</div>" + JSON.stringify(ev, null, 4);
                for (var i = 0; i < ev.elements.length; i++ ) {
                    var note = ev.elements[i];
                    for (var j = 0; j < note.length; j++) {
                        note[j].classList.add("abcjs-highlight");
                    };
                }

                var cursor = document.querySelector("#abcjs-paper2 svg .abcjs-cursor");
                if (cursor) {
                    cursor.setAttribute("x1", ev.left - 2);
                    cursor.setAttribute("x2", ev.left - 2);
                    cursor.setAttribute("y1", ev.top);
                    cursor.setAttribute("y2", ev.top + ev.height);
                }
            };
            self.onFinished = function() {
                var els = document.querySelectorAll("#abcjs-paper2 svg .abcjs-highlight");
                for (var i = 0; i < els.length; i++ ) {
                    els[i].classList.remove("abcjs-highlight");
                }
                var cursor = document.querySelector("abcjs-paper2 svg .abcjs-cursor");
                if (cursor) {
                    cursor.setAttribute("x1", 0);
                    cursor.setAttribute("x2", 0);
                    cursor.setAttribute("y1", 0);
                    cursor.setAttribute("y2", 0);
                }
            };
        }

        function clickListener2(abcElem, tuneNumber, classes, analysis, drag, mouseEvent) {
            var lastClicked = abcElem.midiPitches;
            if (!lastClicked)
                return;

            ABCJS.synth.playEvent(lastClicked, abcElem.midiGraceNotePitches, synthControl2.visualObj.millisecondsPerMeasure()).then(function (response) {
                console.log("note played");
            }).catch(function (error) {
                console.log("error playing note", error);
            });
        }

        if(typeof cursorControl2 === 'undefined'){
            var cursorControl2 = new CursorControl2();
        };

        if(typeof synthControl2 === 'undefined'){
            if (ABCJS.synth.supportsAudio()) {
                var synthControl2 = new ABCJS.synth.SynthController();
            }
        }   

        if(typeof abcOptions2 === 'undefined'){
            var abcOptions2 = {
                add_classes: true,
                clickListener: clickListener2,
                responsive: "resize"
            };
        }

        function setTune2(userAction) {

            synthControl2.disable(true);
            
            var visualObj = ABCJS.renderAbc("abcjs-paper2", abcString2, Object.assign({}, abcOptions2, {visualTranspose: transposeHalfSteps2}))[0];
            // var midi = ABCJS.synth.getMidiFile(abcString);
            // var midiButton = document.querySelector(".midi");
            // midiButton.innerHTML = midi;

            // TODO-PER: This will allow the callback function to have access to timing info - this should be incorporated into the render at some point.
            var midiBuffer = new ABCJS.synth.CreateSynth();
            midiBuffer.init({
                //audioContext: new AudioContext(),
                visualObj: visualObj,
                // sequence: [],
                // millisecondsPerMeasure: 1000,
                // debugCallback: function(message) { console.log(message) },
                options: {
                    // soundFontUrl: "https://paulrosen.github.io/midi-js-soundfonts/FluidR3_GM/" ,
                    // sequenceCallback: function(noteMapTracks, callbackContext) { return noteMapTracks; },
                    // callbackContext: this,
                    // onEnded: function(callbackContext),
                    // pan: [ -0.5, 0.5 ]
                }
            }).then(function (response) {
            console.log(response);
            if (synthControl2) {
                synthControl2.setTune(visualObj, userAction, {midiTranspose:transposeHalfSteps2}).then(function (response) {
                    console.log("Audio successfully loaded.")
                }).catch(function (error) {
                    console.warn("Audio problem:", error);
                });
            }
            }).catch(function (error) {
                console.warn("Audio problem:", error);
            });

        }

        function transposeToC2() {
            const keyMap = {
                'C': 0, 'C#': 1, 'Db': 1, 'D': 2, 'D#': 3, 'Eb': 3, 'E': 4, 'F': 5,
                'F#': 6, 'Gb': 6, 'G': 7, 'G#': 8, 'Ab': 8, 'A': 9, 'A#': 10, 'Bb': 10, 'B': 11
            };

            const keyMatch = abcString2.match(/K: ?([A-G][b#]?)/);
            if (keyMatch) {
                const originalKey = keyMatch[1];
                const halfStepsToC = -keyMap[originalKey];
                transposeHalfSteps2 = halfStepsToC;
                setTune2(true);
            } else {
                console.error('Could not find key in abc string');
            }
        }

        document.getElementById('transpose-up2').addEventListener('click', function() {
            transposeHalfSteps2++;
            setTune2(true);
        });

        document.getElementById('transpose-down2').addEventListener('click', function() {
            transposeHalfSteps2--;
            setTune2(true);
        });

        document.getElementById('transpose-to-c2').addEventListener('click', transposeToC2);

        document.getElementById('reset-transpose2').addEventListener('click', function() {
            transposeHalfSteps2 = 0;
            setTune2(true);
        });

        document.getElementById('transpose-up-octave2').addEventListener('click', function() {
            transposeHalfSteps2 += 12;
            setTune2(true);
        });

        document.getElementById('transpose-down-octave2').addEventListener('click', function() {
            transposeHalfSteps2 -= 12;
            setTune2(true);
        });

        if (ABCJS.synth.supportsAudio()) {
            synthControl2.load("#abcjs-audio2", cursorControl2, {displayLoop: true, displayRestart: true, displayPlay: true, displayProgress: true, displayWarp: true});
        } else {
            document.querySelector("#abcjs-audio2").innerHTML = "<div class='audio-error'>Audio is not supported in this browser.</div>";
        }
        setTune2(false);
</script>
<p>
<br>
</p>
<div id="abcjs-audio3" class="abcjs-audio-container">

</div>
<p class="abcjs-buttons-div"><button id="transpose-down3" class="abcjs-buttons">-1</button><button id="transpose-up3" class="abcjs-buttons">+1</button><button id="transpose-to-c3" class="abcjs-buttons">Key to C</button><button id="reset-transpose3" class="abcjs-buttons">Reset Key</button><button id="transpose-up-octave3" class="abcjs-buttons">+Octave</button><button id="transpose-down-octave3" class="abcjs-buttons">-Octave</button>
</p>
<div id="abcjs-paper3" class="abcjs-paper-container">

</div>
<script data-pjax type="text/javascript">
        if(typeof abcString3 === 'undefined') {
            var abcString3 =  "X:1\nQ:1/4=70\nL:1/16\nM:4/4\nK:C clef=G2\nT:Canon in E flat\nV:1\n%%MIDI program 0\n[^A,G]8F8|[G,^D]8^A,8|[^G,C]8[G,^D]8|[^G,C]8[^A,D]8|\n[G^dg]8[Fdf]8|[^Dc^d]8[D^Ad]8|[C^Gc]8[^A,G^A]8|[C^Gc]8[D^Ad]8|\n[G^dg]8[d-f-^A]4[df^G]4|[Gc^d]8[^A-d-G]4[^AdF]4|[C^Dc]8[^A,-^A-^D]4[^A,^AG]4|[C^Dc]8[D-d-^A]4[Dd^G]4|\n[G^d]8[d-^A]4[d^G]4|[G^d]4[cg]4[g^a]4[fc']4|[c-^g-]4[c^g^d]4[g-^A]4[g^A]4|[F^G]4[c^d]4[^A^d]4^d2d2|\n[G-^d]2[G-d]2[G^d]2G2[D^A]4[^Gd]4|[G^d]4[cg]4[d-^a]2[dg]2[f-^a]2[fc']2|[c-^g]2[c-g]2[c-f]2[c^g]2[^A-g]2[^A-f]2[^A-^d]2[^Ad]2|[^Gc]2[F^G]2[c^d]4[^d-^A]2[^d^G]2[G^d]2[Fd]2|\n[G-^d]2[G-d]2[G-^d]2[G^G]2[^D^A]2D2[^Ad]2^G2|[G^d]4[g-c]2[g^d]2[d-^a]2[dg]2[f-^a]2[fc']2|[c-^g]2[cg]2[d-f]2[d^g]2[^dg]2[df]2[c^d]2[^Ad]2|[^Gc]2[G^A]2[F-^G]2[F^d]2[^A^d]3Fd2f[^A-]|\n[^Ag]3^Ag^A^d[^Af]4[^Ag][^A^g]gf[G-]|[G^d]3[G^d]2G[Gd][G^d][Gd]2^AG2^A2^D|[^Gc]^D2[^Ad]2^D^d^D^A7^D|[^Gc]^D2^D^Gc^dF^dF2[Fd]2^df[^A-]|\n[^Ag]4[^Ag][^Af][^A^d][^Af]2^A2[^Ag][^A^g]gf[G-]|[Gf]3[G^d]2G[Gd][G^d][Gd]2^AG2^A2^D|[^Ac]^D2^d2c^g^Ag^Af^d4^D|[^Gc]^D2^D^Gc^dFdF2^d3f^d|\n^a2g^g^a2g^g[d^a][^Ad]cd^dfg^g|g2^dfg2G^G^Ac^A^G^A^dd^d|c2^ddc2^A^G^A^GG^G^Acd^d|c2^dd^d2d^ddcd^df[^dg][f^g][g^a]|\n[g^a]2[^dg][f^g][g^a]2[fg][^d^g][df^a][^Ad]cd^dfg[d^g]|[^dg]2[c^d][df][^dg]2[^DG][F^G][G^A][^Gc][G^A][F^G][G^A]^dd^d|[^Gc]2[c^d][^Ad][^Gc]2[G^A][F^G][G^A][F^G][^DG][F^G][G^A][^Gc][^Ad][c^d]|[^Gc]2[c^d][^Ad][c^d]2[^Ad][c^d][^Ad][^Gc][^Ad][c^d][df][^dg][f^g][g^a]|\n[g^a]2[^dg][f^g][g^a]2[fg][^d^g][df^a][^Ad][c^d][df][^dg][df][^dg][d^g]|[^dg]2[c^d][df][^dg]2[^DG][F^G][G^A][^Gc][G^A][F^G][G^A][G^d][^Gd][^A^d]|[^Gc]2[c^d][^Ad][^Gc]2[G^A][F^G][G^A][F^G][^DG][F^G][G^A][^Gc][^Ad][c^d]|[^Gc]2[c^d][^Ad][c^d]2[^Ad][c^d][^Ad][^Gc][^Ad][c^d][df][^dg][c^g][d^a]|\n[^A-^dg]2[^A-^d][^A-f][^A-g]2[^A-f][^A^d][^A-f][^A-d][^A-^d][^A-f][^A-g][^A-f][^A-^d][^Ad]|[G-^d]2[G-c][G-d][G-^d]2[G^D]F[D-G][D-^G][D-G][D-F][G-D][G-^d][G-d][G^d]|[^G-c]2[^G-^d][^G-d][^Gc]2^A^G[^D-^A][^D-^G][^D-G][^D-^G][^D-^A][^D-c][^D-d][^D^d]|[^G-c]2[^G-^d][^G-d][^G^d]2dc[^A-d][^A-^d][^A-f][^A-^d][^A-d][^A-^d][^A-c][^Ad]|\n[^d-^D]2[^d-^A,]2[^d-^D]2[^dG]2z2F,2^A,2D2|z2G,2C2^D2z2^A,2D2G2|z2^D,2^G,2C2[^D,-]2[^D,-G,]2[^D,-^A,]2[^D,^D]2|z2F,2C2^D2z2F,2^A,2D2|\nz2[^dg][f^g][g^a]2[^dg]2z2[^Ad][c^d][df]2[^Ad]2|zc[c^d][df][^dg]2^d2zc[^dg][df][c^d]2[^Ad]2|z^G[^Gc][^Ad][c^d]2[^Gc]2zG[G^A][^Gc]c/4[c^d]7/4[G^A]2|z[^Gc][^Ad][^Ad][c^d]2[^Gc]^A2^A[^Ad][c^d][df]2[^Ad]2|\nz^d[^dg][f^g][g^a]2[^dg]2z2[df][^dg][f^g]dfc-|cc[c^d][cf][cg]2^dd2d[g^a][f^g]gd[g^a]^d|[^gc']^d[^gc']^a^g2[^gc']^d[g^a]^d[g^a]^gg^d[g^a]^d|[^gc'][g^a][^d^g][^gc'][g^a][^d^g][^gc']f[^ad'][^gc']f^Ad[^A^d][^Af]^A|\ng^A2^A[^Ag][^Af][^A^d][^Af]2^A2[^Ag][^A^g]gf[G-]|[G^d]3[G^d]2G[Gd][G^d][Gd]2^AG2^A2^D|[^Gc]^D2[^Ad]2^D^d^D^A3[^A^d]2[^A^d][^A^d][^A^d]|[^Gc]^D2^D^Gc^dFdF2[F^d]2Ff^A|\ng^A2^A[^Ag][^Af][^A^d][^Af]2^A2[^Ag][^A^g]gf[G-]|[Gf]3[G^d]2G[Fd]^dG^Ad^dg^ad'^d'|d'c'^a^g^a^ggf[g^a]f^dd^ddc^A|c^A^G^Ac^G^d^Adc^A^d2^Af^A|\ng^A2^Ag^A^g^A[d^a]c[^dc']^A[d^a]^A[d^g]F|[cg]G2G[G^d][G^d]fG[^Ag]^G^gGgFf^D|[^Gc]^D2^D[^Dc]d^d[^D^A]2^d2^d[^A^d][^A^d]2^d|[^Gc]^D2^D^Gc^dF^dF2[Fd]2^df^A|\n[^dg]^A2^A[^dg]^A[f^g]^A[d^a]c[^dc']^A[d^a]^A[d^g]G|[^dg]G2G[G^d][G^d]fG[^Ag]^G^gG[^Ag]G[^Af]^D|[^Gc]^D2^D[^Dc]d^d[^D^A]2^dd^d[G-^A-][G-^A^d][G-d][G^d]|[^G-c][^G-^d][^G-d][^G^d][^G-c][^G-^d][^G-d][^G^d][Fd]^AF[F^d]2Ff^A|\ng^A2^A[^Ag][^Ag][^A^g]^A[d^a]c[^dc']^A[d^a]^A[c^g]G|[d^dg]G2G[G^d][G^d][Gf]G[^Ag]^G^gG[^cg]Gf^G|[c^d]^G2^Gcd^d[G-^A^d]2[G-^d][G-d][G^d][G-^A][G-^d][G-d][G^d]|[^G-c][^G-^d][^G-d][^G^d][^G-c][^G-^d][^G-d][^G^d][Fd]^AF[F^d]2F[Ff]^A|\ng^d^A^A[^dg]^A[^d^g]^A[d^a]c[^dc']^A[d^a]^A[c^g]G|[d^dg]G2G[Gd^d][Gd^d][Gf]G[^Ag]G^gG[^cg]Gf^G|^d^G2^Gcd^d[G-^A^d]2[G-^d][G-d][G^d][G-^A][G-^d][G-d][G^d]|[^G-c][^G-^d][^G-d][^G^d][^G-c][^G-^d][^G-d][^G^d]d^AF[F^d]2F[Ff]2|\ng/2g/2g/2g/2g/2g3/4g3/8g/2g/2g/2g/2g/2g/2g3/4g3/8g/4f/2f/2f/2f/2f/2f3/4f3/8f/2f/2f/2f/2f/2f/2f3/4f3/8f/4|^d/2^d/2^d/2^d/2^d/2^d3/4^d3/8^d/2^d/2^d/2^d/2^d/2^d/2^d3/4^d3/8^d/4d/2d/2d/2d/2d/2d3/4d3/8d/2d/2d/2d/2d/2d/2d3/4d3/8d/4|c/2c/2c/2c/2c/2c3/4c3/8c/2c/2c/2c/2c/2c/2c3/4c3/8c/4^A/2^A/2^A/2^A/2^A/2^A3/4^A3/8^A/2^A/2^A/2^A/2^A/2^A/2^A3/4^A3/8^A/4|c/2c/2c/2c/2c/2c3/4c3/8c/2c/2c/2c/2c/2c/2c3/4c3/8c/4d/2d/2d/2d/2d/2d3/4d3/8d/2d/2d/2d/2d/2d/2d3/4d3/8d/4|\ng/2g/2g/2g/2g/2g3/4g3/8g/2g/2g/2g/2g/2g/2g3/4g3/8g/4f/2f/2f/2f/2f/2f3/4f3/8f/2f/2f/2f/2f/2f/2f3/4f3/8f/4|^d/2^d/2^d/2^d/2^d/2^d3/4^d3/8^d/2^d/2^d/2^d/2^d/2^d/2^d3/4^d3/8^d/4d/2d/2d/2d/2d/2d3/4d3/8d/2d/2d/2d/2d/2d/2d3/4d3/8d/4|c/2c/2c/2c/2c/2c3/4c3/8c/2c/2c/2c/2c/2c/2c3/4c3/8c/4^A/2^A/2^A/2^A/2^A/2^A3/4^A3/8^A/2^A/2^A/2^A/2^A/2^A/2^A3/4^A3/8^A/4|c/2c/2c/2c/2c/2c3/4c3/8c/2c/2c/2c/2c/2c/2c3/4c3/8c/4d/2d/2d/2d/2d/2d3/4d3/8d/2d/2d/2d/2d/2d/2d3/4d3/8d/4|\n[G-^d-]16|[G^d]4\nL:1/16\nM:4/4\nK:C clef=F4\nV:2\n%%MIDI program 0\n^D,8[^A,,F,]8|C,8[G,,D,]8|[^G,,^D,]8[^D,,^D,]8|[^G,,^D,]8[^A,,F,]8|\n[^D,^A,^D]8[^A,,F,^A,]8|[C,G,C]8[G,,^D,G,]8|[^G,,^D,^G,]8[G,,^D,G,]8|[^G,,^D,^G,]8[^A,,F,^A,]8|\n[^D,^A,^D]8[^A,,F,^A,]8|[C,G,C]8[G,,D,G,]8|[^G,,^D,^G,]8[^D,,^A,,^D,]8|[^G,,^D,^G,]8[^A,,F,^A,]8|\n^D,2^A,2^D4^A,,2F,2^A,4|C,2G,2C4G,,2D,2G,4|^G,,2^D,2^G,4^D,2^A,2^D4|^G,,2^D,2^G,4^A,,2F,2^A,4|\n^D,2^A,2^D4^A,,2F,2D4|C,2G,2^D2G,2G,,2D,2^A,2D,2|^G,,2^D,2^G,2^D,2^D,2^A,2G2^A,2|^G,,2^D,2C2^D,2^A,,2F,2D2F,2|\n[^D,,^D,]2G,2^A,2^D2^A,,2F,2^A,2D2|C,2G,2C2^D2[G,,G,]2^A,2D2G2|^G,,2^G,2C2^D2[^D,,^D,]2^A,2^D2G2|^G,,2F,2C2^D2^A,,2F,2^A,2D2|\n[^D,,^D,]2^A,2^D2G2^A,,2^A,2D2F2|C,2G,2C2^D2G,,2G,2^A,2D2|^G,,2^D,2^G,2C2[^D,,^D,]2G,2^A,2^D2|^G,,2^G,2C2^D2^A,,2F,2^A,2D2|\n[^D,,^D,]2^A,2^D2G2^A,,2^A,2D2F2|C,2G,2C2^D2G,,2G,2^A,2D2|^G,,2^D,2^G,2C2[^D,,^D,]2G,2^A,2^D2|^G,,2^D,2^G,2C2^A,,2F,2^A,2D2|\n[^D,,^D,]2^A,2^D2G2^A,,2^A,2D2F2|C,2G,2C2^D2G,,2G,2^A,2D2|^G,,2^G,2C2^D2[^D,,^D,]2G,2^A,2^D2|^G,,2^G,2C2^D2^A,,2^A,2D2F2|\n[^D,,^D,]2^A,2^D2G2^A,,2^A,2D2F2|C,2G,2C2^D2G,,2G,2^A,2D2|^G,,2^G,2C2^D2[^D,,^D,]2G,2^A,2^D2|^G,,2^G,2C2^D2^A,,2^A,2D2F2|\n[^D,,^D,]2^A,2^D2G2^A,,2^A,2D2F2|C,2G,2C2^D2G,,2G,2^A,2D2|^G,,2^G,2C2^D2[^D,,^D,]2G,2^A,2^D2|^G,,2^G,2C2^D2^A,,2^A,2D2F2|\n[^D,,^D,]2^A,2^D2G2^A,,2F,2^A,2D2|C,2G,2C2^D2G,,2G,2^A,2D2|^G,,2^G,2C2^D2[^D,,^D,]2G,2^A,2^D2|^G,,2^G,2C2^D2^A,,2^A,2D2F2|\n[^D,,^D,]8[^A,,,^A,,]8|[C,,C,]8[G,,,G,,]8|[^G,,,^G,,]8[^D,,,^D,,]8|[^G,,,^G,,]8[^A,,,^A,,]8|\n[^D,,^D,]2^A,2^D2G2[^A,,,^A,,]2F,2^A,2D2|[C,,C,]2G,2C2^D2[G,,G,]2^A,2D2G2|^G,,2^G,2C2^D2[^D,,^D,]2G,2^A,2^D2|^G,,2^G,2C2^D2^A,,2^A,2D2F2|\n[^D,,^D,]2^A,2^D2G2^A,,2^A,2D2F2|C,2G,2C2^D2G,,2G,2^A,2D2|^G,,2^G,2C2^D2[^D,,^D,]2G,2^A,2^D2|^G,,2^G,2C2^D2^A,,2^A,2D2F2|\n[^D,,^D,]2^A,2^D2G2^A,,2^A,2D2F2|C,2G,2C2^D2G,,2G,2^A,2D2|^G,,2^G,2C2^D2[^D,,^D,]2G,2^A,2^D2|^G,,2F,2C2^D2^A,,2F,2^A,2D2|\n[^D,,^D,]2^A,2^D2G2^A,,2^A,2D2F2|C,2G,2C2^D2G,,2G,2^A,2D2|^G,,2^G,2C2^D2[^D,,^D,]2G,2^A,2^D2|^G,,2^G,2C2^D2^A,,2^A,2D2F2|\n[^D,,^D,]2^A,2^D2G2^A,,2^A,2D2F2|C,2G,2C2^D2G,,2G,2^A,2D2|^G,,2^D,2^G,2C2[^D,,^D,]2G,2^A,2^D2|^G,,2F,2C2^D2^A,,2F,2^A,2D2|\n[^D,,^D,]2^A,2^D2G2^A,,2^A,2D2F2|C,2G,2C2^D2G,,2G,2^A,2D2|^G,,2^D,2^G,2C2[^D,,^D,]2G,2^A,2^D2|^G,,2^G,2C2^D2^A,,2F,2^A,2D2|\n[^D,,^D,]2^A,2^D2G2^A,,2^A,2D2F2|C,2G,2C2^D2G,,2G,2^A,2^C2|^G,,2^G,2C2^D2[^D,,^D,]2G,2^A,2^D2|^G,,2^G,2C2^D2F,,2F,2^A,2D2|\n[^D,,^D,]2^A,2^D2G2^A,,2F,2^A,2D2|C,2G,2C2^D2G,,2G,2^A,2^C2|^G,,2^G,2C2^D2[^D,,^D,]2G,2^A,2^D2|^G,,2^G,2C2^D2^A,,2F,2^A,2D2|\n[^D,,^D,]2^A,2^D2G2^A,,2F,2^A,2D2|C,2G,2C2^D2G,,2G,2^A,2D2|^G,,2^G,2C2^D2[^D,,^D,]2G,2^A,2^D2|^G,,2F,2C2^D2^A,,2F,2^A,2D2|\n[^D,,^D,]2^A,2^D2G2^A,,2F,2^A,2D2|C,2G,2C2^D2G,,2G,2^A,2D2|^G,,2^G,2C2^D2[G,,,G,,]2G,2^A,2^D2|[F,,,F,,]2^G,2C2^D2[^A,,,^A,,]2F,2^A,2D2|\n[^D,-^A,-]16|[^D,^A,]4";
        };

        if(typeof transposeHalfSteps3 === 'undefined') {
            var transposeHalfSteps3 = 0;
        };

        function CursorControl3() {
            var self = this;

            self.onReady = function() {
                // var downloadLink = document.querySelector(".download");
                // downloadLink.addEventListener("click", download);
                // downloadLink.setAttribute("style", "");
                // var clickEl = document.querySelector(".click-explanation")
                // clickEl.setAttribute("style", "");
            };
            self.onStart = function() {
                var svg = document.querySelector("#abcjs-paper3 svg");
                var cursor = document.createElementNS("http://www.w3.org/2000/svg", "line");
                cursor.setAttribute("class", "abcjs-cursor");
                cursor.setAttributeNS(null, 'x1', 0);
                cursor.setAttributeNS(null, 'y1', 0);
                cursor.setAttributeNS(null, 'x2', 0);
                cursor.setAttributeNS(null, 'y2', 0);
                svg.appendChild(cursor);

            };
            self.beatSubdivisions = 2;
            // self.onBeat = function(beatNumber, totalBeats, totalTime) {
            //  if (!self.beatDiv)
            //      self.beatDiv = document.querySelector(".beat");
            //  self.beatDiv.innerText = "Beat: " + beatNumber + " Total: " + totalBeats + " Total time: " + totalTime;
            // };
            self.onEvent = function(ev) {
                if (ev.measureStart && ev.left === null)
                    return; // this was the second part of a tie across a measure line. Just ignore it.

                var lastSelection = document.querySelectorAll("#abcjs-paper3 svg .abcjs-highlight");
                for (var k = 0; k < lastSelection.length; k++)
                    lastSelection[k].classList.remove("abcjs-highlight");

                // var el = document.querySelector(".feedback").innerHTML = "<div class='label'>Current Note:</div>" + JSON.stringify(ev, null, 4);
                for (var i = 0; i < ev.elements.length; i++ ) {
                    var note = ev.elements[i];
                    for (var j = 0; j < note.length; j++) {
                        note[j].classList.add("abcjs-highlight");
                    };
                }

                var cursor = document.querySelector("#abcjs-paper3 svg .abcjs-cursor");
                if (cursor) {
                    cursor.setAttribute("x1", ev.left - 2);
                    cursor.setAttribute("x2", ev.left - 2);
                    cursor.setAttribute("y1", ev.top);
                    cursor.setAttribute("y2", ev.top + ev.height);
                }
            };
            self.onFinished = function() {
                var els = document.querySelectorAll("#abcjs-paper3 svg .abcjs-highlight");
                for (var i = 0; i < els.length; i++ ) {
                    els[i].classList.remove("abcjs-highlight");
                }
                var cursor = document.querySelector("abcjs-paper3 svg .abcjs-cursor");
                if (cursor) {
                    cursor.setAttribute("x1", 0);
                    cursor.setAttribute("x2", 0);
                    cursor.setAttribute("y1", 0);
                    cursor.setAttribute("y2", 0);
                }
            };
        }

        function clickListener3(abcElem, tuneNumber, classes, analysis, drag, mouseEvent) {
            var lastClicked = abcElem.midiPitches;
            if (!lastClicked)
                return;

            ABCJS.synth.playEvent(lastClicked, abcElem.midiGraceNotePitches, synthControl3.visualObj.millisecondsPerMeasure()).then(function (response) {
                console.log("note played");
            }).catch(function (error) {
                console.log("error playing note", error);
            });
        }

        if(typeof cursorControl3 === 'undefined'){
            var cursorControl3 = new CursorControl3();
        };

        if(typeof synthControl3 === 'undefined'){
            if (ABCJS.synth.supportsAudio()) {
                var synthControl3 = new ABCJS.synth.SynthController();
            }
        }   

        if(typeof abcOptions3 === 'undefined'){
            var abcOptions3 = {
                add_classes: true,
                clickListener: clickListener3,
                responsive: "resize"
            };
        }

        function setTune3(userAction) {

            synthControl3.disable(true);
            
            var visualObj = ABCJS.renderAbc("abcjs-paper3", abcString3, Object.assign({}, abcOptions3, {visualTranspose: transposeHalfSteps3}))[0];
            // var midi = ABCJS.synth.getMidiFile(abcString);
            // var midiButton = document.querySelector(".midi");
            // midiButton.innerHTML = midi;

            // TODO-PER: This will allow the callback function to have access to timing info - this should be incorporated into the render at some point.
            var midiBuffer = new ABCJS.synth.CreateSynth();
            midiBuffer.init({
                //audioContext: new AudioContext(),
                visualObj: visualObj,
                // sequence: [],
                // millisecondsPerMeasure: 1000,
                // debugCallback: function(message) { console.log(message) },
                options: {
                    // soundFontUrl: "https://paulrosen.github.io/midi-js-soundfonts/FluidR3_GM/" ,
                    // sequenceCallback: function(noteMapTracks, callbackContext) { return noteMapTracks; },
                    // callbackContext: this,
                    // onEnded: function(callbackContext),
                    // pan: [ -0.5, 0.5 ]
                }
            }).then(function (response) {
            console.log(response);
            if (synthControl3) {
                synthControl3.setTune(visualObj, userAction, {midiTranspose:transposeHalfSteps3}).then(function (response) {
                    console.log("Audio successfully loaded.")
                }).catch(function (error) {
                    console.warn("Audio problem:", error);
                });
            }
            }).catch(function (error) {
                console.warn("Audio problem:", error);
            });

        }

        function transposeToC3() {
            const keyMap = {
                'C': 0, 'C#': 1, 'Db': 1, 'D': 2, 'D#': 3, 'Eb': 3, 'E': 4, 'F': 5,
                'F#': 6, 'Gb': 6, 'G': 7, 'G#': 8, 'Ab': 8, 'A': 9, 'A#': 10, 'Bb': 10, 'B': 11
            };

            const keyMatch = abcString3.match(/K: ?([A-G][b#]?)/);
            if (keyMatch) {
                const originalKey = keyMatch[1];
                const halfStepsToC = -keyMap[originalKey];
                transposeHalfSteps3 = halfStepsToC;
                setTune3(true);
            } else {
                console.error('Could not find key in abc string');
            }
        }

        document.getElementById('transpose-up3').addEventListener('click', function() {
            transposeHalfSteps3++;
            setTune3(true);
        });

        document.getElementById('transpose-down3').addEventListener('click', function() {
            transposeHalfSteps3--;
            setTune3(true);
        });

        document.getElementById('transpose-to-c3').addEventListener('click', transposeToC3);

        document.getElementById('reset-transpose3').addEventListener('click', function() {
            transposeHalfSteps3 = 0;
            setTune3(true);
        });

        document.getElementById('transpose-up-octave3').addEventListener('click', function() {
            transposeHalfSteps3 += 12;
            setTune3(true);
        });

        document.getElementById('transpose-down-octave3').addEventListener('click', function() {
            transposeHalfSteps3 -= 12;
            setTune3(true);
        });

        if (ABCJS.synth.supportsAudio()) {
            synthControl3.load("#abcjs-audio3", cursorControl3, {displayLoop: true, displayRestart: true, displayPlay: true, displayProgress: true, displayWarp: true});
        } else {
            document.querySelector("#abcjs-audio3").innerHTML = "<div class='audio-error'>Audio is not supported in this browser.</div>";
        }
        setTune3(false);
</script>
<h2 id="嵌入musescore">嵌入musescore</h2>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">直接去musescore的官网，找到谱子，然后点进去，点击分享，就可以获得如下的嵌入链接</span><br><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">id</span>=<span class="string">&quot;score-iframe&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100%&quot;</span> <span class="attr">height</span>=<span class="string">&quot;394&quot;</span> <span class="attr">src</span>=<span class="string">&quot;https://musescore.com/user/16006641/scores/4197961/embed&quot;</span> <span class="attr">frameborder</span>=<span class="string">&quot;0&quot;</span> <span class="attr">allowfullscreen</span> <span class="attr">allow</span>=<span class="string">&quot;autoplay; fullscreen&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://musescore.com/user/16006641/scores/4197961&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span>Merry-Go-Round of Life: Howl&#x27;s Moving Castle Piano Tutorial<span class="tag">&lt;/<span class="name">a</span>&gt;</span> by <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://musescore.com/user/16006641&quot;</span>&gt;</span>PianoChannel<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure>
<iframe id="score-iframe" width="100%" height="394" src="https://musescore.com/user/16006641/scores/4197961/embed" frameborder="0" allowfullscreen allow="autoplay; fullscreen">
</iframe>
<p><span><a href="https://musescore.com/user/16006641/scores/4197961" target="_blank">Merry-Go-Round of Life: Howl's Moving Castle Piano Tutorial</a> by <a target="_blank" rel="noopener" href="https://musescore.com/user/16006641">PianoChannel</a></span></p>
<h1 id="kroki画图">kroki画图</h1>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#使用语法,其中&#123;kroki=true&#125;可有可无(当前还不行，改成这样以后，会导致hexo渲染的时候卡死，还没找到原因，大概率跟wavedrom可以被kroki渲染，也可以被我写的脚本渲染)</span></span><br><span class="line">```language &#123;kroki=<span class="literal">true</span>&#125;</span><br><span class="line">code</span><br><span class="line">code</span><br><span class="line">```</span><br></pre></td></tr></table></figure>
<p>kroki所支持的language如下，其中plantuml的功能非常丰富，还可以绘制脑图</p>
<ul>
<li>actdiag</li>
<li>blockdiag</li>
<li>bpmn</li>
<li>bytefield</li>
<li>c4plantuml</li>
<li>d2</li>
<li>dbml</li>
<li>ditaa</li>
<li>erd</li>
<li>excalidraw</li>
<li>graphviz</li>
<li>mermaid</li>
<li>nomnoml</li>
<li>nwdiag</li>
<li>packetdiag</li>
<li>pikchr</li>
<li>plantuml</li>
<li>rackdiag</li>
<li>seqdiag</li>
<li>structurizr</li>
<li>svgbob</li>
<li>tikz</li>
<li>vega</li>
<li>vegalite</li>
<li>wavedrom</li>
<li>wireviz</li>
</ul>
<img class="kroki" src="https://kroki.io/plantuml/svg/eNplj7EOwjAMRPd8hekEAwEqsUEk2NnYkduaEjVJo8YqA-LfSasKpbDdOffsS2i089ihhQ5dE8hDvhULfpAl6HURhyzCN1N5Dbt8n0w8lg3WdNVs6GR07Sw5BkN3FqKjktHVhiC7oHYZvATA0kYpe03P1eCCHgLcupV4p8AZA01AEaUsW-tbF3eP1NzZtiLzwx8KNR7icNgUKgMMMPgbByESHKRU_xemJByPatY30bBeq1mP9E2OW5OvJTqCAzl1_gBqpn1h">
<img class="kroki" src="https://kroki.io/wavedrom/svg/eNqrLkpNt1KI5lIAgmoFpbzE3FQlKwUlzwB_JR2gkFJSZkkxUMBCR0EpsaSkCCQX5K-kUKsD1YEBYDrMYWqQjXUK8kYx1hTZ2HCglFJJZQFIpQk23c4BqLoNsSrKSU0sApkEVWSMrAjmG4VarthaAJo1Ov8=">
<img class="kroki" src="https://kroki.io/wavedrom/svg/eNqrVijOTM9LzFGwUojmUlCoVshLzE21UlBKzslW0lFQKE8sA_EK9MBASaFWB1lRUmkxkqIKPWMTPdMKkIhCSmJJIlAoIzUxRSEpP6VSoSQxMwdde3lmUSpQNVS7gZ6hnp4BxI7YWgCIfSmP">
<img class="kroki" src="https://kroki.io/bytefield/svg/eNqtlU1vmzAYx-_5FI_cSzggAaG05bpddt9OiIMJ5kUxNjNmIav47jOGQAIkadUlUqyYv39-3tnGJMFSigr8KDVTQQiDdz_JKQX0hK0kwRZqjc1me6U7EUr5cRImyQ1hmbPDpSyyVmX7E76-Fid4jVaLkpJJSNzoOXkZhQxigY_KCV6XJsURoWZGcEzEZgNBVaor9Gao_m61MuINbCVpZP8AAr_AMuv4nEmzyv8SsJ02NNSOPq5__IgLxazg6b0FPyN5mkmw3da4tkKQgksSRxcmHHIWAxZpNVmw57Qu2KCpjHF_6QM8A6okFhI9Uv1sfny_L9oBkqeS3Bc5gDpb74tsRcJnEVORNIWqC_vVuIqx1dj2VF_zZ68vzs59wwSCIcxuO4nDG6S-Ao2VVPb-g06lMWf2x5ZQa6zWGTIjjamxOnlul30aT1inHQ8uoFYy1vYtaBdgFegBuq5W1rkX1b_qstV_9qgryAaCwC8pztm5ko99kSLaLUpzUd5eGwKCre0YKFxEq78xvGW9N5keqLUxk1xUcnmSV-Q3BH-wajBPHdqBN3x3YdcJq-xOPaMLQrHqqCv-4gILrDlU7z8gjMEelBTPHNHNvdLXKj3ui-XA2yg4l-lsw7EtF8bwPlB_VDiknxKWygwN8ytUa1VHYE-Da8lxv8pJcQnoW00Aq76gnJdQ8pxJiE6S6Hkw0VlOQUdVDQ7ds3cDtfM-6T2ri7nJKOMS3XP_w6B9TT4PWo-j85_y4dzOxy92YPzIhiQoVZGzYWD3b5oKvMurpeSF8Q90BX7x">
<h1 id="table中插入wavedrom">Table中插入wavedrom</h1>
<p>当前渲染使用的pandoc版本为3.3</p>
<table>
<colgroup>
<col style="width: 10%">
<col style="width: 40%">
<col style="width: 42%">
<col style="width: 7%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">符号</th>
<th style="text-align: center;">含义</th>
<th style="text-align: center;">样例</th>
<th style="text-align: center;">渲染结果</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><code>.</code></td>
<td style="text-align: center;">与上一周期状态相同</td>
<td style="text-align: center;"><code>&#123; signal : [&#123; name: ".", wave: "p..." &#125;]&#125;</code></td>
<td style="text-align: center;"><p>test</p> <script type="WaveDrom"> { signal : [{ name: ".", wave: "p..." }]}</script></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>p</code></td>
<td style="text-align: center;">在周期开始时为上升沿的时钟信号</td>
<td style="text-align: center;"><code>&#123; signal : [&#123; name: ".", wave: "p.pp" &#125;]&#125;</code></td>
<td style="text-align: center;"><a target="_blank" rel="noopener" href="https://google.com">a link</a></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>P</code></td>
<td style="text-align: center;">在周期开始时为上升沿的时钟信号，上升沿有箭头</td>
<td style="text-align: center;"><code>&#123; signal : [&#123; name: ".", wave: "P.PP" &#125;]&#125;</code></td>
<td style="text-align: center;"><em>one</em></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>n</code></td>
<td style="text-align: center;">在周期开始时为下降沿的时钟信号</td>
<td style="text-align: center;"><code>&#123; signal : [&#123; name: ".", wave: "n.nn" &#125;]&#125;</code></td>
<td style="text-align: center;">n</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>N</code></td>
<td style="text-align: center;">在周期开始时为下降沿的时钟信号，下降沿有箭头</td>
<td style="text-align: center;"><code>&#123; signal : [&#123; name: ".", wave: "N.NN" &#125;]&#125;</code></td>
<td style="text-align: center;">N</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>0</code></td>
<td style="text-align: center;">低电平，有过渡</td>
<td style="text-align: center;"><code>&#123; signal : [&#123; name: ".", wave: "0.01" &#125;]&#125;</code></td>
<td style="text-align: center;">0</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>l</code></td>
<td style="text-align: center;">低电平，无过渡</td>
<td style="text-align: center;"><code>&#123; signal : [&#123; name: ".", wave: "l.lh" &#125;]&#125;</code></td>
<td style="text-align: center;">l</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>1</code></td>
<td style="text-align: center;">高电平，有过渡</td>
<td style="text-align: center;"><code>&#123; signal : [&#123; name: ".", wave: "1.10" &#125;]&#125;</code></td>
<td style="text-align: center;">1</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>h</code></td>
<td style="text-align: center;">高电平，无过渡</td>
<td style="text-align: center;"><code>&#123; signal : [&#123; name: ".", wave: "h.hl" &#125;]&#125;</code></td>
<td style="text-align: center;">h</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>z</code></td>
<td style="text-align: center;">高阻态</td>
<td style="text-align: center;"><code>&#123; signal : [&#123; name: ".", wave: "z.zz" &#125;]&#125;</code></td>
<td style="text-align: center;">z</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>d</code></td>
<td style="text-align: center;">下拉（弱 0）</td>
<td style="text-align: center;"><code>&#123; signal : [&#123; name: ".", wave: "d.dd" &#125;]&#125;</code></td>
<td style="text-align: center;">d</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>u</code></td>
<td style="text-align: center;">上拉（弱 1）</td>
<td style="text-align: center;"><code>&#123; signal : [&#123; name: ".", wave: "u.uu" &#125;]&#125;</code></td>
<td style="text-align: center;">u</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>x</code></td>
<td style="text-align: center;">未定义</td>
<td style="text-align: center;"><code>&#123; signal : [&#123; name: ".", wave: "x.xx" &#125;]&#125;</code></td>
<td style="text-align: center;">x</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>2</code>/<code>=</code></td>
<td style="text-align: center;">值（颜色为 2）</td>
<td style="text-align: center;"><code>&#123; signal : [&#123; name: "2", wave: "2.22" &#125;]&#125;</code></td>
<td style="text-align: center;">2</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>3</code></td>
<td style="text-align: center;">值（颜色为 3）</td>
<td style="text-align: center;"><code>&#123; signal : [&#123; name: "3", wave: "3.33" &#125;]&#125;</code></td>
<td style="text-align: center;">3</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>4</code>/<code>5</code>/<code>6</code></td>
<td style="text-align: center;">值（颜色为 4/5/6）</td>
<td style="text-align: center;"><code>&#123; signal : [&#123; name: "4/5/6", wave: "4.56" &#125;]&#125;</code></td>
<td style="text-align: center;">4/5/6</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>7</code>/<code>8</code>/<code>9</code></td>
<td style="text-align: center;">值（颜色为 7/8/9）</td>
<td style="text-align: center;"><code>&#123; signal : [&#123; name: "7/8/9", wave: "7.89" &#125;]&#125;</code></td>
<td style="text-align: center;">7/8/9</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>|</code></td>
<td style="text-align: center;">延长前一个周期并绘制间隙</td>
<td style="text-align: center;"><code>&#123; signal : [&#123; name: "|", wave: "xx|x" &#125;]&#125;</code></td>
<td style="text-align: center;">|</td>
</tr>
</tbody>
</table>
<h1 id="pseudocode">pseudocode</h1>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">```pseudocode</span><br><span class="line">% This quicksort algorithm is extracted from Chapter 7, Introduction to Algorithms (3rd edition)</span><br><span class="line">    \begin&#123;algorithm&#125;</span><br><span class="line">    \caption&#123;Quicksort&#125;</span><br><span class="line">    \begin&#123;algorithmic&#125;</span><br><span class="line">    \PROCEDURE&#123;Quicksort&#125;&#123;<span class="variable">$A</span>, p, r$&#125;</span><br><span class="line">        \IF&#123;<span class="variable">$p</span> &lt; r$&#125; </span><br><span class="line">            \STATE <span class="variable">$q</span> = $ \CALL&#123;Partition&#125;&#123;<span class="variable">$A</span>, p, r$&#125;</span><br><span class="line">            \STATE \CALL&#123;Quicksort&#125;&#123;<span class="variable">$A</span>, p, q - 1$&#125;</span><br><span class="line">            \STATE \CALL&#123;Quicksort&#125;&#123;<span class="variable">$A</span>, q + 1, r$&#125;</span><br><span class="line">        \ENDIF</span><br><span class="line">    \ENDPROCEDURE</span><br><span class="line">    \PROCEDURE&#123;Partition&#125;&#123;<span class="variable">$A</span>, p, r$&#125;</span><br><span class="line">        \STATE <span class="variable">$x</span> = A[r]$</span><br><span class="line">        \STATE <span class="variable">$i</span> = p - 1$</span><br><span class="line">        \FOR&#123;<span class="variable">$j</span> = p$ \TO <span class="variable">$r</span> - 1$&#125;</span><br><span class="line">            \IF&#123;<span class="variable">$A</span>[j] &lt; x$&#125;</span><br><span class="line">                \STATE <span class="variable">$i</span> = i + 1$</span><br><span class="line">                \STATE exchange</span><br><span class="line">                <span class="variable">$A</span>[i]$ with <span class="variable">$A</span>[j]$</span><br><span class="line">            \ENDIF</span><br><span class="line">            \STATE exchange <span class="variable">$A</span>[i]$ with <span class="variable">$A</span>[r]$</span><br><span class="line">        \ENDFOR</span><br><span class="line">    \ENDPROCEDURE</span><br><span class="line">    \end&#123;algorithmic&#125;</span><br><span class="line">    \end&#123;algorithm&#125;</span><br><span class="line">```</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">% This quicksort algorithm is extracted from Chapter 7, Introduction to Algorithms (3rd edition)</span><br><span class="line">    \begin&#123;algorithm&#125;</span><br><span class="line">    \caption&#123;Quicksort&#125;</span><br><span class="line">    \begin&#123;algorithmic&#125;</span><br><span class="line">    \PROCEDURE&#123;Quicksort&#125;&#123;$A, p, r$&#125;</span><br><span class="line">        \IF&#123;$p &lt; r$&#125; </span><br><span class="line">            \STATE $q = $ \CALL&#123;Partition&#125;&#123;$A, p, r$&#125;</span><br><span class="line">            \STATE \CALL&#123;Quicksort&#125;&#123;$A, p, q - 1$&#125;</span><br><span class="line">            \STATE \CALL&#123;Quicksort&#125;&#123;$A, q + 1, r$&#125;</span><br><span class="line">        \ENDIF</span><br><span class="line">    \ENDPROCEDURE</span><br><span class="line">    \PROCEDURE&#123;Partition&#125;&#123;$A, p, r$&#125;</span><br><span class="line">        \STATE $x = A[r]$</span><br><span class="line">        \STATE $i = p - 1$</span><br><span class="line">        \FOR&#123;$j = p$ \TO $r - 1$&#125;</span><br><span class="line">            \IF&#123;$A[j] &lt; x$&#125;</span><br><span class="line">                \STATE $i = i + 1$</span><br><span class="line">                \STATE exchange</span><br><span class="line">                $A[i]$ with $A[j]$</span><br><span class="line">            \ENDIF</span><br><span class="line">            \STATE exchange $A[i]$ with $A[r]$</span><br><span class="line">        \ENDFOR</span><br><span class="line">    \ENDPROCEDURE</span><br><span class="line">    \end&#123;algorithmic&#125;</span><br><span class="line">    \end&#123;algorithm&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">pre</span> <span class="attr">id</span>=<span class="string">&quot;quicksort&quot;</span> <span class="attr">class</span>=<span class="string">&quot;pseudocode&quot;</span>&gt;</span></span><br><span class="line">    % This quicksort algorithm is extracted from Chapter 7, Introduction to Algorithms (3rd edition)</span><br><span class="line">    \begin&#123;algorithm&#125;</span><br><span class="line">    \caption&#123;Quicksort&#125;</span><br><span class="line">    \begin&#123;algorithmic&#125;</span><br><span class="line">    \PROCEDURE&#123;Quicksort&#125;&#123;$A, p, r$&#125;</span><br><span class="line">        \IF&#123;$p &lt; r$&#125; </span><br><span class="line">            \STATE $q = $ \CALL&#123;Partition&#125;&#123;$A, p, r$&#125;</span><br><span class="line">            \STATE \CALL&#123;Quicksort&#125;&#123;$A, p, q - 1$&#125;</span><br><span class="line">            \STATE \CALL&#123;Quicksort&#125;&#123;$A, q + 1, r$&#125;</span><br><span class="line">        \ENDIF</span><br><span class="line">    \ENDPROCEDURE</span><br><span class="line">    \PROCEDURE&#123;Partition&#125;&#123;$A, p, r$&#125;</span><br><span class="line">        \STATE $x = A[r]$</span><br><span class="line">        \STATE $i = p - 1$</span><br><span class="line">        \FOR&#123;$j = p$ \TO $r - 1$&#125;</span><br><span class="line">            \IF&#123;$A[j] &lt; x$&#125;</span><br><span class="line">                \STATE $i = i + 1$</span><br><span class="line">                \STATE exchange</span><br><span class="line">                $A[i]$ with $A[j]$</span><br><span class="line">            \ENDIF</span><br><span class="line">            \STATE exchange $A[i]$ with $A[r]$</span><br><span class="line">        \ENDFOR</span><br><span class="line">    \ENDPROCEDURE</span><br><span class="line">    \end&#123;algorithmic&#125;</span><br><span class="line">    \end&#123;algorithm&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">pre</span>&gt;</span></span><br></pre></td></tr></table></figure>
<pre id="quicksort" class="pseudocode">
    % This quicksort algorithm is extracted from Chapter 7, Introduction to Algorithms (3rd edition)
    \begin{algorithm}
    \caption{Quicksort}
    \begin{algorithmic}
    \PROCEDURE{Quicksort}{$A, p, r$}
        \IF{$p < r$} 
            \STATE $q = $ \CALL{Partition}{$A, p, r$}
            \STATE \CALL{Quicksort}{$A, p, q - 1$}
            \STATE \CALL{Quicksort}{$A, q + 1, r$}
        \ENDIF
    \ENDPROCEDURE
    \PROCEDURE{Partition}{$A, p, r$}
        \STATE $x = A[r]$
        \STATE $i = p - 1$
        \FOR{$j = p$ \TO $r - 1$}
            \IF{$A[j] < x$}
                \STATE $i = i + 1$
                \STATE exchange
                $A[i]$ with $A[j]$
            \ENDIF
            \STATE exchange $A[i]$ with $A[r]$
        \ENDFOR
    \ENDPROCEDURE
    \end{algorithmic}
    \end{algorithm}
</pre>
<h1 id="交叉引用">交叉引用</h1>
<p>引用与打标签的语法需要安装<code>pandoc-crossref</code>，表格标题的语法不需要</p>
<p><a target="_blank" rel="noopener" href="https://lierdakil.github.io/pandoc-crossref/">参考链接</a></p>
<p>原则上，在添加标签的时候，<code>&#123;</code>与<code>#</code>之间是不需要空格的，但是由于hexo的问题，如果不加空格的话，会导致其截断后面的内容（<a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues/4658"><code>&#123; and # without space</code> is interpreted as a comment of the nunjucks template by Hexo</a>），可以通过在博客的Front-matter中添加<code>disableNunjucks: true</code>来解决这个问题，但是添加了这个之后，很多插件就失效了。因此比较好的方案是使用<code>&lt;span id="HTML-anchor"&gt;&lt;/span&gt;</code>来添加标签</p>
<h2 id="图片交叉引用">图片交叉引用</h2>
<p><a href="#fig:label">fig ref</a></p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">创建标签语法</span><br><span class="line">![<span class="string">fig Caption</span>](<span class="link">link</span>)&#123;#fig:label&#125;</span><br><span class="line"></span><br><span class="line">引用语法</span><br><span class="line">[<span class="string">fig ref</span>](<span class="link">#fig:label</span>)</span><br></pre></td></tr></table></figure>
<p><img src="https://labuladong.online/algo/logo.svg" id="fig:label" alt="fig"></p>
<h2 id="表格交叉引用">表格交叉引用</h2>
<table>
<caption>Caption</caption>
<thead>
<tr class="header">
<th>a</th>
<th>b</th>
<th>c</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>2</td>
<td>3</td>
</tr>
<tr class="even">
<td>4</td>
<td>5</td>
<td>6</td>
</tr>
</tbody>
</table>
<p>下面Caption上的那个空行不能少</p>
<p><a href="#tbl:label">table ref</a></p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">创建标签语法</span><br><span class="line">a   b   c</span><br><span class="line">--- --- ---</span><br><span class="line">1   2   3</span><br><span class="line">4   5   6</span><br><span class="line"></span><br><span class="line">: Caption &#123;#tbl:label&#125;</span><br><span class="line"></span><br><span class="line">引用标签语法[<span class="string">text</span>](<span class="link">#tbl:label</span>)</span><br></pre></td></tr></table></figure>
<table>
<caption>Caption { #tbl:label)}</caption>
<thead>
<tr class="header">
<th style="text-align: left;">a</th>
<th style="text-align: left;">b</th>
<th style="text-align: left;">c</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1</td>
<td style="text-align: left;">2</td>
<td style="text-align: left;">3</td>
</tr>
<tr class="even">
<td style="text-align: left;">4</td>
<td style="text-align: left;">5</td>
<td style="text-align: left;">6</td>
</tr>
</tbody>
</table>
<h2 id="公式交叉引用">公式交叉引用</h2>
<p><a href="#eq:label">math ref</a></p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$$ math $$ &#123;#eq:label&#125;</span><br></pre></td></tr></table></figure>
<p><span class="math display">\[ math \]</span> { #eq:label}</p>
<p><span class="math display">\[\cssId{Overlinev}{\overline{v}}:\overline{S}\to\{F,T\}\]</span></p>
<p>test公式<a href="#Overlinev">ref</a></p>
<h2 id="代码块交叉引用">代码块交叉引用</h2>
<p><a href="#lst:code">code ref</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">```haskell</span><br><span class="line">main :: IO ()</span><br><span class="line">main = putStrLn &quot;Hello World!&quot;</span><br><span class="line">```</span><br><span class="line"></span><br><span class="line">: Listing caption &#123;#lst:code&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">main</span> :: <span class="type">IO</span> ()</span><br><span class="line"><span class="title">main</span> = putStrLn <span class="string">&quot;Hello World!&quot;</span></span><br></pre></td></tr></table></figure>
<p>: Listing caption { #lst:code}</p>
<section class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn1" role="doc-endnote"><p>脚注测试<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2" role="doc-endnote"><p>english<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3" role="doc-endnote"></li>
</ol>
</section>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://www.narutozxp.top">narutozxp</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://www.narutozxp.top/2022/05/19/test/">https://www.narutozxp.top/2022/05/19/test/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://www.narutozxp.top" target="_blank">narutozxp</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E6%B5%8B%E8%AF%95/">测试</a></div><div class="post_share"><div class="social-share" data-image="/img/30.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/gh/overtrue/share.js@master/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/05/21/VTR-Architecture-Reference-XML/"><img class="prev-cover" src="/img/5.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">VTR Architecture Reference XML</div></div></a></div><div class="next-post pull-right"><a href="/2022/05/10/VTR/"><img class="next-cover" src="/img/27.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">VTR FLOW BEGIN</div></div></a></div></nav><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%A4%96%E6%8C%82%E6%A0%87%E7%AD%BE"><span class="toc-number">1.</span> <span class="toc-text">外挂标签</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#mermaid%E7%BB%98%E5%9B%BE"><span class="toc-number">2.</span> <span class="toc-text">mermaid绘图</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#github-style-alert"><span class="toc-number">3.</span> <span class="toc-text">github style alert</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#admonition"><span class="toc-number">4.</span> <span class="toc-text">admonition</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#wavedrom"><span class="toc-number">5.</span> <span class="toc-text">wavedrom</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#echarts%E7%BB%98%E5%9B%BE"><span class="toc-number">6.</span> <span class="toc-text">echarts绘图</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%9F%B3%E4%B9%90"><span class="toc-number">7.</span> <span class="toc-text">音乐</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#abc%E4%BA%94%E7%BA%BF%E8%B0%B1"><span class="toc-number">7.1.</span> <span class="toc-text">abc五线谱</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B5%8C%E5%85%A5musescore"><span class="toc-number">7.2.</span> <span class="toc-text">嵌入musescore</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#kroki%E7%94%BB%E5%9B%BE"><span class="toc-number">8.</span> <span class="toc-text">kroki画图</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#table%E4%B8%AD%E6%8F%92%E5%85%A5wavedrom"><span class="toc-number">9.</span> <span class="toc-text">Table中插入wavedrom</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#pseudocode"><span class="toc-number">10.</span> <span class="toc-text">pseudocode</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%A4%E5%8F%89%E5%BC%95%E7%94%A8"><span class="toc-number">11.</span> <span class="toc-text">交叉引用</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%BE%E7%89%87%E4%BA%A4%E5%8F%89%E5%BC%95%E7%94%A8"><span class="toc-number">11.1.</span> <span class="toc-text">图片交叉引用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A1%A8%E6%A0%BC%E4%BA%A4%E5%8F%89%E5%BC%95%E7%94%A8"><span class="toc-number">11.2.</span> <span class="toc-text">表格交叉引用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AC%E5%BC%8F%E4%BA%A4%E5%8F%89%E5%BC%95%E7%94%A8"><span class="toc-number">11.3.</span> <span class="toc-text">公式交叉引用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E5%9D%97%E4%BA%A4%E5%8F%89%E5%BC%95%E7%94%A8"><span class="toc-number">11.4.</span> <span class="toc-text">代码块交叉引用</span></a></li></ol></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><script src="/js/search/local-search.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [ ['$','$'], ["\\(","\\)"]],
      tags: 'ams'
    },
    chtml: {
      scale: 1.2
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, ''],
        insertScript: [200, () => {
          document.querySelectorAll('mjx-container:not\([display]\)').forEach(node => {
            const target = node.parentNode
            if (target.nodeName.toLowerCase() === 'li') {
              target.parentNode.classList.add('has-jax')
            } else {
              target.classList.add('has-jax')
            }
          });
        }, '', false]
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typeset()
}</script><script>(() => {
  const $mermaidWrap = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaidWrap.length) {
    window.runMermaid = () => {
      window.loadMermaid = true
      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

      Array.from($mermaidWrap).forEach((item, index) => {
        const mermaidSrc = item.firstElementChild
        const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
        const mermaidID = 'mermaid-' + index
        const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent
        mermaid.mermaidAPI.render(mermaidID, mermaidDefinition, (svgCode) => {
          mermaidSrc.insertAdjacentHTML('afterend', svgCode)
        })
      })
    }

    const loadMermaid = () => {
      window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
    }

    window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
  }
})()</script><script type="text/javascript" id="maid-script" src="https://unpkg.com/mermaid@10.2.3/dist/mermaid.min.js"></script><script>if (window.mermaid) {
  var options = JSON.parse(document.getElementById('maid-script').getAttribute('mermaidoptioins'));
  mermaid.initialize(options);
}</script><script>(()=>{
  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'https://twikoo-vercel-gray.vercel.app',
      region: '',
      onCommentLoaded: function () {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      }
    }, null))
  }

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://twikoo-vercel-gray.vercel.app',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(function (res) {
      countELement.innerText = res[0].count
    }).catch(function (err) {
      console.error(err);
    });
  }

  const runFn = () => {
    init()
    GLOBAL_CONFIG_SITE.isPost && getCount()
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') {
      setTimeout(runFn,0)
      return
    } 
    getScript('https://cdn.jsdelivr.net/npm/twikoo@1/dist/twikoo.all.min.js').then(runFn)
  }

  if ('Twikoo' === 'Twikoo' || !true) {
    if (true) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = () => {
      loadTwikoo()
    }
  }
})()</script></div><script src="https://cdn.jsdelivr.net/gh/narutozxp/live2d-widget@2.1.4/autoload.js"></script><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  typeof preloader === 'object' && preloader.initLoading()
  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><!-- hexo injector body_end start --><script async src="//at.alicdn.com/t/font_2032782_8d5kxvn09md.js"></script><!-- hexo injector body_end end --></body></html>